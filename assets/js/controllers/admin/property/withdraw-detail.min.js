angular.module("app").directive("withdrawDetail",["$api","$uibModal",function(e,t){return{restrict:"A",link:function(a,i,c,r){!function(a){a&&"WITHDRAW"===a.category&&i.click(function(){a.popup=!0,e.business.ordernodetail({id:a.id},function(e){t.open({size:"lg",windowClass:"no-border",templateUrl:"assets/html/admin/property/withdraw-detail.html?rev=ebc916683f",controllerAs:"self",controller:["$uibModalInstance",function(t){var a=this;a.detail=e.result||{},a.detail.timecreate=a.detail.timecreate&&moment(1e3*a.detail.timecreate).format("YYYY-M-DD H:mm:ss")||"",a.detail.timecheck=a.detail.timecheck&&moment(1e3*a.detail.timecheck).format("YYYY-M-DD H:mm:ss")||"",a.detail.timepaid=a.detail.timepaid&&moment(1e3*a.detail.timepaid).format("YYYY-M-DD H:mm:ss")||"",a.detail.channelaccount&&(a.detail.channelaccount.tail_account=(a.detail.channelaccount.account||"").replace(/\d+(\d{4})$/,"$1")),a.classes={create:{border:a.detail.timecreate&&"border-success"||"",title:a.detail.timecreate&&"text-success"||"text-muted",icon:a.detail.timecreate&&"fa-check-circle"||"fa-clock-o",text:a.detail.timecreate&&"申请提交成功"||"等待申请"},line_check:a.detail.timecreate&&"border-success"||"border-default",check:{border:a.detail.timecreate&&({CHECKING:"border-warning",CHECKFAILED:"border-danger"}[a.detail.status]||"border-success")||"border-default",title:a.detail.timecreate&&({CHECKING:"text-warning",CHECKFAILED:"text-danger"}[a.detail.status]||"text-success")||"text-muted",icon:a.detail.timecreate&&({CHECKING:"fa-clock-o",CHECKFAILED:"fa-exclamation-circle"}[a.detail.status]||"fa-check-circle")||"fa-clock-o",text:a.detail.timecreate&&({CHECKING:"等待审核",CHECKFAILED:"审核失败"}[a.detail.status]||"审核通过并提交银行")||"等待审核"},line_paid:a.detail.timecreate&&({CHECKING:"border-default",CHECKFAILED:"border-default"}[a.detail.status]||"border-success")||"border-default",paid:{border:{SUCCESS:"border-success",FAILED:"border-danger",PROCESSING:"border-warning"}[a.detail.status]||"border-default",title:{SUCCESS:"text-success",FAILED:"text-danger",PROCESSING:"text-warning"}[a.detail.status]||"text-muted",icon:{SUCCESS:"fa-check-circle",FAILED:"fa-exclamation-circle"}[a.detail.status]||"fa-clock-o",text:{SUCCESS:"交易成功",FAILED:"交易失败",PROCESSING:"正在处理"}[a.detail.status]||"等待交易"}},a.Cancel=t.dismiss}]}).result.then(function(){delete a.popup},function(){delete a.popup})})})}(a.$eval(c.withdrawDetail))}}}]);