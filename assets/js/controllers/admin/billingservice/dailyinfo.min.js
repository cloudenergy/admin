angular.module("app").component("dailyInfo",{templateUrl:"assets/html/admin/billingservice/dailyinfo.html?rev=1d691727c6.html",controller:["$scope","$q","$stateParams","$api","Auth","$cookies","UI","Pab","$uibModal",function(e,n,t,a,i,o,l,r,c){var u=this;u.currentPage=l.GetPageIndex(),u.operateStatus={add:{isEnable:!1,url:"/info"},delete:{isEnable:!1,url:"/delete"},update:{isEnable:!1,url:"/update"}},u.PadShow=[],u.settingUserInfo=void 0,u.askingRemoveID=void 0,i.Check(u.operateStatus,function(){e.$watch(function(){return EMAPP.Project.selected},function(e){a.packageplan.info({project:e._id,pageindex:1},function(e){e.err||(u.dailyInfo=e.result.detail,u.pageindex=e.result.paging.pageindex,u.count=e.result.paging.count,u.pagesize=e.result.paging.pagesize)})})}),e.$watch("$ctrl.pageindex",function(e){u.pageindex&&a.packageplan.info({project:EMAPP.Project.selected._id,pageindex:parseInt(e),pagesize:10},function(e){u.dailyInfo=e.result.detail})}),u.DoRemove=function(e,n,t){e.preventDefault();var i=l.GetAbsoluteIndex(u.currentPage,t);a.packageplan.delete({id:n},function(e){u.dailyInfo.splice(i,1)},function(e){l.AlertError(e.data.message)})},u.AskForRemove=function(e,n){e.preventDefault(),u.askingRemoveID=n},u.CancelRemove=function(e,n){e.preventDefault(),u.askingRemoveID=void 0}}]});