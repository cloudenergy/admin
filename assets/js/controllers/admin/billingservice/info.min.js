angular.module("app").component("info",{templateUrl:"assets/html/admin/billingservice/info.html?rev=909c528e37",controller:["$scope","$q","$stateParams","$api","Project","Account","API","Auth","$cookies","UI","Pab","BillingService",function(e,t,n,i,r,o,a,c,s,l,u,d){var g=this;g.operateStatus={add:{isEnable:!1,url:"/add"},delete:{isEnable:!1,url:"/delete"},update:{isEnable:!1,url:"/update"}},g.askingRemoveID=void 0,g.PadShow=[],g.settingUserInfo=void 0,g.askingRemoveID=void 0,c.Check(g.operateStatus,function(){e.$watch(function(){return EMAPP.Project.selected},function(e){a.Query(d.info,{project:e._id},function(e){e.err||(g.billingservices=e.result,_.each(g.billingservices,function(e){e.ecstring="",_.each(e.energycategory,function(t){var n=_.find(g.energycategory,function(e){return e._id==t});n&&(e.ecstring+=n.title+"ï¼Œ")}),e.ecstring=e.ecstring.substr(0,e.ecstring.length-1)}))})}),g.DoRemove=function(e,t,n){e.preventDefault();var i=l.GetAbsoluteIndex(g.currentPage,n);a.Query(d.delete,{id:t},function(e){g.billingservices.splice(i,1)},function(e){l.AlertError(e.data.message)})},g.AskForRemove=function(e,t){e.preventDefault(),g.askingRemoveID=t},g.CancelRemove=function(e,t){e.preventDefault(),g.askingRemoveID=void 0}})}]});