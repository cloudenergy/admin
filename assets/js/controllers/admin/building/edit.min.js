angular.module("app").controller("Buildingedit",["$scope","$state","$stateParams","Building","Auth","API","UI",function(n,i,t,e,o,u,a){o.Check(function(){n.submit=function(){n.building&&u.Query(e.update,n.building,function(n){n.code?a.AlertError(n.message):(i.go("admin.building.info"),a.AlertSuccess("保存成功"))},function(n){a.AlertError(n.data.message)})},u.Query(e.info,{id:t.id},function(i){i.err||angular.extend(n.building=i.result,{project:n.Project.selected._id})},function(n){a.AlertError(n.data.message)}),n.avgConsumptionChange=function(){n.building.totalConsumption=n.building.acreage*n.building.avgConsumption},n.totalConsumptionChange=function(){n.building.avgConsumption=n.building.totalConsumption/n.building.acreage}})}]);
//# sourceMappingURL=edit.min.js.map
