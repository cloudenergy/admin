angular.module("app").controller("Finance.card.detail",["$api","$state","$stateParams","$uibModal",function(t,n,e,i){var a=this;a.id=e.id,a.status=[{key:"CHECKING",title:"等待审核"},{key:"FAILED",title:"审核失败"},{key:"SUCCESS",title:"审核通过"}],angular.forEach(a.status,function(t){this[t.key]=t.title},a.status),a.getInfo=function(){t.channelaccount.info({id:a.id},$.proxy(function(t){this.detail=t.result[0]||{},this.detail.locate&&angular.isString(this.detail.locate)&&(angular.forEach(JSON.parse(this.detail.locate),function(t,n){this.push(t)},this.detail.locate=[]),this.detail.locate=this.detail.locate.join("-"))},a))},a.getInfo(),a.inject=function(){swal({title:"确认审核通过此项吗？",type:"warning",showCancelButton:!0,cancelButtonText:"取消",confirmButtonText:"确认"},function(){t.channelaccount.checking({id:a.id,status:"SUCCESS",reason:"审核通过"},a.getInfo)})},a.reject=function(n){i.open({templateUrl:"finance-card-detail-modal-reject.html",controllerAs:"self",controller:["$uibModalInstance","UI",function(t,n){this.submit=function(){this.reason?t.close(this.reason):n.AlertWarning("描述内容不能为空","请输入描述信息")},this.cancel=function(){t.dismiss("cancel")}}],size:n}).result.then(function(n){n&&t.channelaccount.checking({id:a.id,status:"FAILED",reason:n},a.getInfo)})}}]);
//# sourceMappingURL=card-detail.min.js.map
