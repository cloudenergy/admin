<style>.centerTable th {
        text-align: center;
    }
    
    .centerTable td {
        text-align: center;
    }</style><div class="row"><div class="col-xs-12 col-sm-12 adminBody"><div class="panel panel-default"><div class="panel-body"><div class="pull-left"><div class="btn-group pb10"><a ui-sref="admin.billingservice.info" class="btn btn-default">仪表计费 </a><a ui-sref="admin.billingservice.dailyinfo" class="btn btn-primary">日常计费</a></div></div><div class="pull-right"><a ui-sref="admin.billingservice.adddaily" class="btn btn-primary" ng-show="$ctrl.operateStatus.update.isEnable"><span class="glyphicon glyphicon-plus"></span> 添加策略</a></div><table class="table table-hover table-bordered mb0 mt10"><thead class="centerTable"><tr><th class="col-md-2">策略组名</th><th class="col-md-2">费用类型</th><th class="col-md-2">单价</th><th class="col-md-2">关联商户</th><th class="col-md-5">操作</th></tr></thead><tbody class="centerTable"><tr ng-repeat="info in $ctrl.dailyInfo"><td class="col-md-2">{{info.title}}</td><td class="col-md-2">{{info.type | feeType}}</td><td class="col-md-2">{{info.rent.price}}</td><td class="col-md-2"></td><td class="col-md-5 text-center"><a ui-sref="admin.billingservice.dailyupdate({id:info.id})" class="mr10" ng-show="$ctrl.operateStatus.update.isEnable"><i class="glyphicon glyphicon-edit"></i>编辑策略 </a><a class="OperateDelete" href="javascript:void(0)" ng-click="$ctrl.AskForRemove($event, info.id)" ng-show="info.id != $ctrl.askingRemoveID && $ctrl.operateStatus.update.isEnable"><span><i class="glyphicon glyphicon-trash"></i>删除</span> </a><a class="DeleteCancel" href="javascript:void(0)" ng-show="info.id == $ctrl.askingRemoveID" ng-click="$ctrl.CancelRemove($event, info.id)"><i class="glyphicon glyphicon-remove"></i>取消</a> <a class="DeleteOK" href="javascript:void(0)" ng-show="info.id == $ctrl.askingRemoveID" ng-click="$ctrl.DoRemove($event, info.id, $index)"><i class="glyphicon glyphicon-ok"></i>确定</a></td></tr></tbody></table></div></div></div></div><script type="text/ng-template" id="departmentdeploy.html"><div class="modal-header">
        <button type="button" class="close" ng-click="Cancel()"><span>&times;</span></button>
        <h4 class="modal-title">关联商户</h4>
    </div>
    <div class="modal-body">
        <form class="form-inline" ng-submit="searchSensor(true)">
           <label class="form-group pb10 mr5">关键字</label>
            <div class="form-group pb10 mr5">
                <input type="text" class="form-control" placeholder="商户名称" ng-model="departmentKey">
            </div>
            <button type="submit" class="btn btn-info"><span class="glyphicon glyphicon-search"></span> 查询</button>
            <button type="button" class="btn btn-success pull-right" ng-click="selectAll()"><span class="glyphicon glyphicon-asterisk"></span>全选</button>
        </form>
        <table class="table table-hover table-bordered">
            <thead>
                <tr>
                    <th class="text-center" style="width:60px;">序号</th>
                    <th>商户名称</th>
                    <th>商户账户</th>
                    <th>面积</th>
                    <th class="text-center" style="width:220px;">操作</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="department in listData">
                    <td class="text-center" ng-bind="(listData.index-1)*paging.size+$index+1"></td>
                    <td class="nowrap">{{department.title}}</td>
                    <td>{{department.account._id}}</td>
                    <td class="nowrap">
                        {{department.area}}
                        <small>m2</small>
                    </td>
                    <td ng-class="{'text-danger':department.account.billingAccount.cash<0}">{{department.account.billingAccount.cash}}</td>
                    <td class="text-center nowrap" style="font-size:12px;">
                        <a class="mr10" ui-sref="admin.department.amount({account:department.account._id})" ng-show="operateStatus.edit.isEnable">
                            <i class="glyphicon glyphicon-usd"></i>充值
                        </a>
                        <a class="mr10" href="javascript:void(0)" ng-click="OnConsumeList(department.account._id)" ng-show="operateStatus.edit.isEnable">
                            <i class="glyphicon glyphicon-list"></i>清单
                        </a>
                        <a class="mr10" ui-sref="admin.department.edit({id:department._id})" ng-show="operateStatus.edit.isEnable">
                            <i class="glyphicon glyphicon-edit"></i>编辑
                        </a>
                        <a href="javascript:void(0)" ng-click="askingRemoveID=department._id" ng-show="department._id!==askingRemoveID && operateStatus.edit.isEnable">
                            <span><i class="glyphicon glyphicon-trash"></i>删除</span>
                        </a>
                        <a class="text-warning mr5" href="javascript:void(0)" ng-show="department._id===askingRemoveID" ng-click="askingRemoveID=0"><i class="glyphicon glyphicon-remove"></i>取消</a>
                        <a class="text-danger" href="javascript:void(0)" ng-show="department._id===askingRemoveID" ng-click="DoRemove(department._id)"><i class="glyphicon glyphicon-ok"></i>确定</a>
                    </td>
                </tr>
            </tbody>
        </table>
        <ui-select class="pull-left" style="width:110px;" ng-model="paging.size" search-enabled="false" remove-selected="false">
            <ui-select-match placeholder="每页条目">{{$select.selected.title}}</ui-select-match>
            <ui-select-choices position="up" repeat="item.key as item in paging.items">
                <div ng-bind-html="item.title"></div>
            </ui-select-choices>
        </ui-select>
        <uib-pagination class="pull-right mt0 mb0" total-items="listData.total" ng-model="paging.index" items-per-page="paging.size"
            max-size="10" rotate="false" boundary-links="true" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;"
            last-text="&raquo;"></uib-pagination>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-primary" ng-click="Submit()">确定</button>
        <button type="button" class="btn btn-warning" ng-click="Cancel()">取消</button>
    </div></script>