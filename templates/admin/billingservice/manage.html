<script type="text/ng-template" id="energySelect.html"><div class="container-fluid">
        <div align="center" class="" style="padding: 30; border-bottom: 1px solid #E5E5E5; min-height: 16; ">
            <h3 class="">子策略所应用的能耗类型</h3>
        </div>
        <div align="center" class="" style="position: relative; padding: 20px;">
            <div class="row-fluid list-group">
                <a href="#" class="list-group-item" ng-class="sec.isEnable ? 'active':''" ng-click="SwitchServiceEnergycategories($event, sec)" ng-repeat="sec in ServiceEnergycategories">
                    {{sec.title}}
                </a>
            </div>
        </div>
        <div class="" style="margin-top: 15px; padding: 19px 20px 20px; text-align: center; border-top: 1px solid #e5e5e5;">
            <button class="btn btn-primary" ng-click="Ok()">确定</button>
            <button class="btn btn-warning" ng-click="Cancel()">取消</button>
        </div>
    </div></script><div class="row"><div class="col-xs-12 col-sm-12 adminBody"><div class="panel panel-default"><div class="panel-body"><div class="form-group container-fluid pb15" style="border-bottom: 1px solid #ddd"><a class="btn btn-warning" href="/admin/billingservice/info"><span class="glyphicon glyphicon-chevron-left"></span> 计费策略</a><div class="" style="float: right"><button type="submit" class="btn btn-info" ng-click="AddSubStrategy()"><span class="glyphicon glyphicon-plus"></span>&nbsp;添加子策略</button> <button type="submit" class="btn btn-success" ng-click="SaveStrategy()"><span class="glyphicon glyphicon-ok"></span>&nbsp;保存</button></div></div><form role="form" class="form-inline"><table class="table table-bordered"><tbody><tr ng-repeat="rule in billingService.rules"><td class="col-lg-1" align="center">{{rule.applytoStr}}</td><td class="col-lg-4"><tabset justified="true"><tab heading="日期"><div align="center" class="row-fluid pt20"><div class="input-group"><div class="form-group"><select class="form-control" ng-model="rule.SelectMonth"><option ng-repeat="month in months" ng-selected="{{month==rule.SelectMonth}}" value="{{month}}">{{month}}</option></select>月</div><div class="form-group"><select class="form-control" ng-model="rule.SelectDay"><option ng-repeat="day in days" ng-selected="{{day==rule.SelectDay}}" value="{{day}}">{{day}}</option></select>日</div><div class="form-group"><span class="input-group-btn"><button type="button" class="btn btn-primary" ng-click="AddSelectDate($event, rule)"><i class="glyphicon glyphicon-plus"></i></button></span></div></div><div class="input-group" style="width: 100%"><div class="row-fluid" style="height: 100px; overflow-y: auto"><div class="row-fluid" ng-repeat="ruleDay in rule.day" style="margin-top: 3px">{{ruleDay.substr(0,2)}}月{{ruleDay.substr(2,4)}}日 <a href="#" class="" ng-click="RemoveSelectDate($event, rule, ruleDay)"><span class="glyphicon glyphicon-remove"></span></a></div></div></div></div></tab><tab heading="星期"><div class="center pt20"><div class="row-fluid btn-group"><button type="button" class="btn btn-default" ng-class="rule.week[$index] ? 'active':''" ng-click="SelectWeek($event, $index, rule)" ng-repeat="wk in week">{{wk.title}}</button></div></div></tab></tabset></td><td class="col-lg-4"><tabset justified="true"><tab active="rule.billingtype.timequantum" class="hint hint--top hint--info" data-hint="区间价格"><tab-heading><i class="glyphicon glyphicon-dashboard"></i></tab-heading><div align="center" class="row-fluid pt20"><div class="input-group"><div class="form-group"><select class="form-control" ng-model="rule.HourFrom"><option ng-repeat="h in hours" ng-selected="{{h==rule.HourFrom}}" value="{{h}}">{{h}}</option></select>点</div>-<div class="form-group"><select class="form-control" ng-model="rule.HourTo"><option ng-repeat="h in hours" ng-selected="{{h==rule.HourTo}}" value="{{h}}">{{h}}</option></select>点</div><div class="form-group"><input type="number" required value="0" class="form-control" id="id" placeholder="" name="name" ng-model="rule.price" style="width: 70px">￥</div><div class="form-group"><span class="input-group-btn"><button type="button" class="btn btn-primary" ng-click="AddTimeQuantum($event, rule)"><i class="glyphicon glyphicon-plus"></i></button></span></div></div><div class="input-group" style="width: 100%"><div class="row-fluid" style="height: 100px; overflow-y: auto"><div class="row-fluid" ng-repeat="tq in rule.timequantum" style="margin-top: 3px">{{tq.hourFrom}}点 - {{tq.hourTo}}点 {{tq.price}}￥ <a href="#" class="" ng-click="RemoveTimeQuantum($event, rule, tq)"><span class="glyphicon glyphicon-remove"></span></a></div></div></div></div></tab><tab active="rule.billingtype.fixprice" class="hint hint--top hint--info" data-hint="单一价格"><tab-heading><i class="glyphicon glyphicon-usd"></i></tab-heading><div align="center" class="row-fluid pt20"><div class="input-group" style="width: 100%"><div class="form-group"><input type="text" required class="form-control" id="id" placeholder="" name="name" ng-model="rule.fixprice" style="width: 120px">￥</div></div></div></tab></tabset></td><td class="col-lg-3"><div class="col-md-8"><a class="OperateDelete" href="#" ng-click="AskForRemove($event, $index)" ng-show="$index != askingRemoveID"><span><i class="glyphicon glyphicon-trash"></i>删除</span> </a><a class="DeleteCancel" href="#" ng-show="$index == askingRemoveID" ng-click="CancelRemove($event, $index)"><i class="glyphicon glyphicon-remove"></i>取消</a> <a class="DeleteOK" href="#" ng-show="$index == askingRemoveID" ng-click="DoRemove($event, $index)"><i class="glyphicon glyphicon-ok"></i>确定</a></div><div class="col-md-2"><a href="#" ng-show="$index>0" ng-click="onLevelUp($event, $index)"><i class="glyphicon glyphicon-chevron-up"></i></a></div><div class="col-md-2"><a href="#" ng-show="$index < MaxLevel" ng-click="onLevelDown($event, $index)"><i class="glyphicon glyphicon-chevron-down"></i></a></div></td></tr></tbody></table></form></div></div></div></div>