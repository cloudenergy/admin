<div class="row"><div class="col-xs-12 col-sm-12 adminBody"><div class="panel panel-default"><div class="panel-body"><form class="form-horizontal" role="form" name="form" ng-submit="submit()"><fieldset><div class="form-group container-fluid pb15" style="border-bottom: 1px solid #ddd"><a class="btn btn-warning" href="/admin/building/info"><span class="glyphicon glyphicon-chevron-left"></span> 建筑列表</a><div class="" style="float: right"><button type="submit" class="btn btn-success"><span class="glyphicon glyphicon-ok"></span>&nbsp;保存</button></div></div><div class="form-group"><label for="inputName" class="col-sm-2 control-label">标识</label><div class="col-sm-8"><input type="text" required class="form-control" id="id" placeholder="" name="name" ng-model="building._id" disabled="disabled"></div></div><div class="form-group"><label class="col-sm-2 control-label">项目归属</label><div class="col-sm-8"><select class="form-control" ng-options="project.title for project in projects" ng-model="building.project"></select></div></div><div class="form-group"><label for="inputName" class="col-sm-2 control-label">楼名</label><div class="col-sm-8"><input type="text" required class="form-control" id="inputName" placeholder="" name="name" ng-model="building.title"></div></div><div class="form-group"><label for="inputLocation" class="col-sm-2 control-label">总面积</label><div class="col-sm-8"><input type="number" required class="form-control" id="inputLocation" placeholder="" name="acreage" ng-model="building.acreage" ng-change="avgConsumptionChange()"></div></div><div class="form-group"><label for="inputLocation" class="col-sm-2 control-label">每平方米能耗</label><div class="col-sm-8"><input type="number" required step="0.00001" class="form-control" id="inputAvgConsumption" placeholder="" name="avgConsumption" ng-model="building.avgConsumption" ng-change="avgConsumptionChange()"></div></div><div class="form-group"><label for="inputLocation" class="col-sm-2 control-label">总能耗</label><div class="col-sm-8"><input type="number" required class="form-control" id="inputTotalConsumption" placeholder="" name="totalConsumption" ng-model="building.totalConsumption" ng-change="totalConsumptionChange()"></div></div><div class="form-group"><label for="textareaDescription" class="col-sm-2 control-label">描述</label><div class="col-sm-8"><textarea class="form-control" rows="3" name="description" ng-model="building.description"></textarea><span class="help-block">不超过30个字符</span></div></div></fieldset></form></div></div></div></div><script>function controller($scope) {
    $scope.avgConsumptionChange = function() {
        $scope.building.totalConsumption = $scope.building.acreage * $scope.building.avgConsumption;
    }
}</script>