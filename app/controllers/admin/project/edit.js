EMAPP.register.controller("projectEdit",["$rootScope","$scope","$stateParams","$location","SettingMenu","Project","Auth","API","UI",function(t,o,e,r,n,u,f,c,a){f.Check(function(){function t(t){a.AlertError(t.data.message)}n(function(t){o.menu=t}),o.Save=function(t){o.project.onduty=o.onDutyHour+":"+o.onDutyMinute,o.project.offduty=o.offDutyHour+":"+o.offDutyMinute,c.Query(u.update,o.project,function(t){t.code?a.AlertError(t.message):(a.AlertSuccess("修改成功"),r.path("/admin/project/info"))},function(t){a.AlertError(t.data.message)})},c.Query(u.info,{id:e.id},function(t){if(t.err)a.AlertError(t.data.message);else{o.project=t.result;var e=moment(o.project.onduty,"H:mm");o.onDutyHour=e.format("H"),o.onDutyMinute=e.format("mm");var r=moment(o.project.offduty,"H:mm");o.offDutyHour=r.format("H"),o.offDutyMinute=r.format("mm")}},t)})}]);