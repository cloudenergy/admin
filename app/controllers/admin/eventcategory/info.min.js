angular.module("app").controller("eventcategoryIndex",["$rootScope","$scope","Eventcategory","API","Auth","UI","$q","Project",function(e,t,a,n,r,o,u,c){t.gateways={SMS:"短信通知",APP:"Web，APP通知",EMAIL:"邮件通知",WECHAT:"微信通知"},t.isGatewayOn=function(e,t){return-1!=e.enablegateway.indexOf(t)},t.updateGateway=function(e,r,o){var u=e.enablegateway.indexOf(r);o.target.checked&&-1==u?e.enablegateway.push(r):e.enablegateway.splice(u,1);var c={templateid:e.id,gateway:e.enablegateway,project:t.projects.selected._id};n.Query(a.update,c,function(e){})},t.operateStatus={add:{isEnable:!1,url:"/add"},"delete":{isEnable:!1,url:"/delete"},update:{isEnable:!1,url:"/update"}},t.askingRemoveID=void 0,r.Check(t.operateStatus,function(){function e(e){o.AlertError(e.data.message)}n.Query(c.info,function(e){e.err||(t.projects=angular.isArray(e.result)?e.result:[e.result],t.projects.selected=t.projects.length?t.projects[0]:null)}),t.$watch("projects.selected",function(e){e&&n.Query(a.info,{project:e._id},function(e){e.err||(t.Eventcategory=e.result)})}),t.DoRemove=function(r,o,u){r.preventDefault();var c=u;n.Query(a["delete"],{id:o},function(e){t.Eventcategory.splice(c,1)},e)},t.AskForRemove=function(e,a){e.preventDefault(),t.askingRemoveID=a},t.CancelRemove=function(e,a){e.preventDefault(),t.askingRemoveID=void 0}})}]);
//# sourceMappingURL=info.min.js.map
