EMAPP.register.controller("SensorSync",["$scope","$modalInstance","API","Sensor","SensorIns",function(e,s,n,a,t){e.sensorTitle=t.title,t.channel&&(e.sensorTitle+="-"+t.channel),e.sensorStatus=t.status,e.sensorLastUpdate=moment(t.lastupdate).format("YYYY/MM/DD HH:mm:ss"),e.sensorRealData=t.realdata,e.sensorLastTotal=t.lasttotal,e.Cancel=function(){s.dismiss("cancel")},e.SwitchSensor=function(e,s){e.preventDefault(),s.isEnable?s.isEnable=!1:s.isEnable=!0},e.onSearchSensor=function(s){s.preventDefault(),e.UpdateViewOfSensors(e.sensorSearchKey)},e.Sync=function(){var s={id:t.id,lasttotal:t.realdata,lastvalue:0};n.Query(a.update,s,function(s){s.err||(e.sensorLastTotal=e.sensorRealData)})}}]);