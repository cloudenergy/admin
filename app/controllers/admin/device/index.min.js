angular.module("app").controller("DeviceIndex",["$scope","$uibModal","$api","Auth","UI",function(e,t,n,c,r){var i="department.project";c.Check(function(){function c(t){n.device.type({project:t||void 0},function(t){e.device=t.result;var n=[];angular.forEach(e.device,function(e){n.push({id:e.id,name:e.name,childrens:[],ischild:!1,level:1})}),e.viewOfDevice=[{nodes:n,name:"设备类型",level:0}]})}n.project.info(function(t){e.projects=angular.isArray(t.result)?t.result:t.result&&[t.result]||[],angular.forEach(e.projects,function(e){this[e._id]=e},e.projects),e.projects.selected=(e.projects[r.GetPageItem(i)]||e.projects[0]||{})._id}),e.$watch("projects.selected",function(e){e&&(r.PutPageItem(i,e),c(e))}),e.sensor=function(n,c){var r=t.open({templateUrl:"sensorSelect.html",controller:"SensorSelect",size:"lg",resolve:{ProjectID:function(){return e.projects.selected},DeviceType:function(){return n.id}}});r.result.then(function(e){},function(){})},e.switchUnitPriceType=function(e){e.unitprice.isnormal=!e.unitprice.isnormal}})}]);
//# sourceMappingURL=index.min.js.map
