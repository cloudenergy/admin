{"version":3,"sources":["app/controllers/admin/account/roleres.js"],"names":["angular","module","controller","$scope","$stateParams","$q","$modal","$cookies","$location","Account","API","Auth","UI","Project","Building","originProject","Check","askingRemoveID","adminUser","user","editUser","id","undefined","all","QueryPromise","info","$promise","then","result","err","resource","project","sensor","building","customer","Query","projects","isArray","roleResOfProject","enumFromIDToDetail","projectIDs","projectDetail","_","each","projectid","detailP","find","p","_id","push","viewOfEditUserProject","SaveRoleRes","addObject","difference","intersection","removeObj","console","log","length","map","v","k","isEmpty","empty","obj","update","path","AddProject","modalInstance","open","templateUrl","size","resolve","Projects","ProjectIDs","union","AddBuildings","e","projectID","preventDefault","ProjectID","BuildingIDs","buildings","select","newBuildings","b","indexOf","unselect","AddSensors","SensorIDs","sensors","newSensors","s","DoRemove","index","without","splice","AskForRemove","CancelRemove"],"mappings":"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","file":"app/controllers/admin/account/roleres.min.js","sourceRoot":"/"}