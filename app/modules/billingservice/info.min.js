"use strict";angular.module("app").component("billingserviceInfo",{templateUrl:"app/modules/billingservice/info.html?rev=1a0278c098",controller:["$rootScope","$state","$uibModal","$api","SweetAlert","ToFloat",function(e,t,i,r,n,l){var o=this;o.currentPage=1,o.pageSize=15,o.tab=/\.(\w+)$/.exec(t.current.name)[1],(o.list=function(){r.billingservice.info({project:e.Project.selected._id,verbose:!1},function(e){angular.isArray(e.result)?o.listData=e.result:(o.listData=[],o.listData.push(e.result)),angular.forEach(o.listData,function(e){e.rules.fixprice=e.rules.fixprice?l(e.rules.fixprice):void 0})},function(){delete o.listData})})(),o.removeItem=function(){o.askingRemoveID&&r.billingservice.delete({id:o.askingRemoveID},function(){o.list()},n.error)},o.changeSensor=function(e){i.open({component:"billingserviceSensorSelect",size:"lg",backdrop:"static",resolve:{strategyid:function(){return e.id},projectid:function(){return e.projectid}}}).result.then(function(){n.success("修改成功"),o.list()})}}]});