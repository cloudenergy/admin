"use strict";angular.module("app").component("info",{templateUrl:"app/modules/billingservice/info.html?rev=909c528e37",controller:["$scope","$q","$stateParams","$api","Auth","$cookies","UI",function(e,n,t,i,r,o,c){var s=this;s.operateStatus={add:{isEnable:!1,url:"/add"},delete:{isEnable:!1,url:"/delete"},update:{isEnable:!1,url:"/update"}},s.askingRemoveID=void 0,s.PadShow=[],s.settingUserInfo=void 0,s.askingRemoveID=void 0,r.Check(s.operateStatus,function(){e.$watch(function(){return EMAPP.Project.selected},function(e){i.billingservice.info({project:e._id},function(e){s.billingservices=e.result,_.each(s.billingservices,function(e){e.ecstring="",_.each(e.energycategory,function(n){var t=_.find(s.energycategory,function(e){return e._id==n});t&&(e.ecstring+=t.title+"ï¼Œ")}),e.ecstring=e.ecstring.substr(0,e.ecstring.length-1)})})}),s.DoRemove=function(e,n,t){e.preventDefault();var r=c.GetAbsoluteIndex(s.currentPage,t);i.billingservice.delete({id:n},function(){s.billingservices.splice(r,1)},function(e){c.AlertError(e.message)})},s.AskForRemove=function(e,n){e.preventDefault(),s.askingRemoveID=n},s.CancelRemove=function(e,n){e.preventDefault(),s.askingRemoveID=void 0}})}]});