"use strict";angular.module("app").component("dailyInfo",{templateUrl:"app/modules/billingservice/dailyinfo.html?rev=1d691727c6.html",controller:["$scope","$api","Auth","UI",function(e,n,t,a){var i=this;i.currentPage=a.GetPageIndex(),i.operateStatus={add:{isEnable:!1,url:"/info"},delete:{isEnable:!1,url:"/delete"},update:{isEnable:!1,url:"/update"}},i.PadShow=[],i.settingUserInfo=void 0,i.askingRemoveID=void 0,t.Check(i.operateStatus,function(){e.$watch(function(){return EMAPP.Project.selected},function(e){n.packageplan.info({project:e._id,pageindex:1},function(e){i.dailyInfo=e.result.detail,i.pageindex=e.result.paging.pageindex,i.count=e.result.paging.count,i.pagesize=e.result.paging.pagesize})})}),e.$watch("$ctrl.pageindex",function(e){i.pageindex&&n.packageplan.info({project:EMAPP.Project.selected._id,pageindex:parseInt(e),pagesize:10},function(e){i.dailyInfo=e.result.detail})}),i.DoRemove=function(e,t,o){e.preventDefault();var l=a.GetAbsoluteIndex(i.currentPage,o);n.packageplan.delete({id:t},function(){i.dailyInfo.splice(l,1)},function(e){a.AlertError(e.message)})},i.AskForRemove=function(e,n){e.preventDefault(),i.askingRemoveID=n},i.CancelRemove=function(e,n){e.preventDefault(),i.askingRemoveID=void 0}}]});