"use strict";angular.module("app").component("dailyInfo",{templateUrl:"app/modules/billingservice/dailyinfo.html?rev=d3eb2fffb2",controller:["$rootScope","$scope","$api","SweetAlert","$state","ToFloat",function(n,e,i,a,t,o){var r=this;r.PadShow=[],r.settingUserInfo=void 0,r.askingRemoveID=void 0,r.tab=/\.(\w+)$/.exec(t.current.name)[1],i.packageplan.info({project:n.Project.selected._id,pageindex:1},function(e){r.dailyInfo=e.result.detail,angular.forEach(r.dailyInfo,function(e){e.rent.price&&(e.rent.price=o(e.rent.price))}),r.pageindex=e.result.paging.pageindex,r.count=e.result.paging.count,r.pagesize=e.result.paging.pagesize},function(){delete r.dailyInfo,delete r.pageindex,delete r.count,delete r.pagesize}),e.$watch("$ctrl.pageindex",function(e){r.pageindex&&i.packageplan.info({project:n.Project.selected._id,pageindex:parseInt(e),pagesize:10},function(e){r.dailyInfo=e.result.detail,angular.forEach(r.dailyInfo,function(e){e.rent.price&&(e.rent.price=o(e.rent.price))})})}),r.DoRemove=function(e,n,t){e.preventDefault(),i.packageplan.delete({id:n},function(){r.dailyInfo.splice(t,1)},a.error)},r.AskForRemove=function(e,n){e.preventDefault(),r.askingRemoveID=n},r.CancelRemove=function(e,n){e.preventDefault(),r.askingRemoveID=void 0}}]});