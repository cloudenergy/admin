angular.module("app").component("dailyInfo",{templateUrl:"app/modules/billingservice/dailyinfo.html?rev=1d691727c6.html",controller:["$scope","$q","$stateParams","$api","Auth","$cookies","UI",function(e,n,t,a,i,o,l){var r=this;r.currentPage=l.GetPageIndex(),r.operateStatus={add:{isEnable:!1,url:"/info"},delete:{isEnable:!1,url:"/delete"},update:{isEnable:!1,url:"/update"}},r.PadShow=[],r.settingUserInfo=void 0,r.askingRemoveID=void 0,i.Check(r.operateStatus,function(){e.$watch(function(){return EMAPP.Project.selected},function(e){a.packageplan.info({project:e._id,pageindex:1},function(e){e.err||(r.dailyInfo=e.result.detail,r.pageindex=e.result.paging.pageindex,r.count=e.result.paging.count,r.pagesize=e.result.paging.pagesize)})})}),e.$watch("$ctrl.pageindex",function(e){r.pageindex&&a.packageplan.info({project:EMAPP.Project.selected._id,pageindex:parseInt(e),pagesize:10},function(e){r.dailyInfo=e.result.detail})}),r.DoRemove=function(e,n,t){e.preventDefault();var i=l.GetAbsoluteIndex(r.currentPage,t);a.packageplan.delete({id:n},function(e){r.dailyInfo.splice(i,1)},function(e){l.AlertError(e.data.message)})},r.AskForRemove=function(e,n){e.preventDefault(),r.askingRemoveID=n},r.CancelRemove=function(e,n){e.preventDefault(),r.askingRemoveID=void 0}}]});