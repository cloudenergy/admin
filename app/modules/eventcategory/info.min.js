"use strict";angular.module("app").controller("eventcategoryIndex",["$rootScope","$scope","$api","Auth","UI",function(e,t,a,n,o){t.gateways={SMS:"短信通知",APP:"Web，APP通知",EMAIL:"邮件通知",WECHAT:"微信通知"},t.isGatewayOn=function(e,t){return e.enablegateway.indexOf(t)!=-1},t.updateGateway=function(e,n,o){var c=e.enablegateway.indexOf(n);o.target.checked&&c==-1?e.enablegateway.push(n):e.enablegateway.splice(c,1),a.event.update({templateid:e.id,gateway:e.enablegateway,project:t.Project.selected._id})},t.operateStatus={add:{isEnable:!1,url:"/add"},delete:{isEnable:!1,url:"/delete"},update:{isEnable:!1,url:"/update"}},t.askingRemoveID=void 0,n.Check(t.operateStatus,function(){t.$watch("Project.selected",function(e){e&&a.event.info({project:e._id},function(e){t.Eventcategory=e.result})}),t.DoRemove=function(e,n,c){e.preventDefault();var i=c;a.eventcategory.delete({id:n},function(){t.Eventcategory.splice(i,1)},function(e){o.AlertError(e.message)})},t.AskForRemove=function(e,a){e.preventDefault(),t.askingRemoveID=a},t.CancelRemove=function(e,a){e.preventDefault(),t.askingRemoveID=void 0}})}]);