"use strict";angular.module("app").controller("eventcategoryIndex",["$rootScope","$scope","$api","UI",function(e,t,n,a){t.gateways={SMS:"短信通知",APP:"Web，APP通知",EMAIL:"邮件通知",WECHAT:"微信通知"},t.isGatewayOn=function(e,t){return e.enablegateway.indexOf(t)!=-1},t.updateGateway=function(t,a,o){var c=t.enablegateway.indexOf(a);o.target.checked&&c==-1?t.enablegateway.push(a):t.enablegateway.splice(c,1),n.event.update({templateid:t.id,gateway:t.enablegateway,project:e.Project.selected._id})},t.askingRemoveID=void 0,t.$watch("$root.Project.selected",function(e){e&&n.event.info({project:e._id},function(e){t.Eventcategory=e.result},function(){delete t.Eventcategory})}),t.DoRemove=function(e,o,c){e.preventDefault();var r=c;n.eventcategory.delete({id:o},function(){t.Eventcategory.splice(r,1)},a.AlertError)},t.AskForRemove=function(e,n){e.preventDefault(),t.askingRemoveID=n},t.CancelRemove=function(e,n){e.preventDefault(),t.askingRemoveID=void 0}}]);