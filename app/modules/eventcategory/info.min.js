"use strict";angular.module("app").controller("eventcategoryIndex",["$rootScope","$scope","$api","SweetAlert",function(e,t,a,n){t.gateways={SMS:"短信通知",APP:"Web，APP通知",EMAIL:"邮件通知",WECHAT:"微信通知"},t.isGatewayOn=function(e,t){return e.enablegateway.indexOf(t)!=-1},t.updateGateway=function(t,n,o){var c=t.enablegateway.indexOf(n);o.target.checked&&c==-1?t.enablegateway.push(n):t.enablegateway.splice(c,1),a.event.update({templateid:t.id,gateway:t.enablegateway,project:e.Project.selected._id})},t.askingRemoveID=void 0,e.Project&&e.Project.selected&&a.event.info({project:e.Project.selected._id},function(e){t.Eventcategory=e.result},function(){delete t.Eventcategory}),t.DoRemove=function(e,o,c){e.preventDefault();var r=c;a.eventcategory.delete({id:o},function(){t.Eventcategory.splice(r,1)},n.error)},t.AskForRemove=function(e,a){e.preventDefault(),t.askingRemoveID=a},t.CancelRemove=function(e,a){e.preventDefault(),t.askingRemoveID=void 0}}]);