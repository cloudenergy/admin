"use strict";angular.module("app").controller("SensorSync",["$scope","$uibModalInstance","$api","SensorIns",function(e,a,n,s){e.sensorTitle=s.title,s.channel&&(e.sensorTitle+="-"+s.channel),e.sensorStatus=s.status,e.sensorLastUpdate=moment(s.lastupdate).format("YYYY/MM/DD HH:mm:ss"),e.sensorRealData=s.realdata,e.sensorLastTotal=s.lasttotal,e.Cancel=function(){a.dismiss("cancel")},e.SwitchSensor=function(e,a){e.preventDefault(),a.isEnable?a.isEnable=!1:a.isEnable=!0},e.onSearchSensor=function(a){a.preventDefault(),e.UpdateViewOfSensors(e.sensorSearchKey)},e.Sync=function(){var a={id:s.id,lasttotal:s.realdata,lastvalue:0};n.sensorchannel.update(a,function(){e.sensorLastTotal=e.sensorRealData})}}]);