"use strict";angular.module("app").controller("Buildingedit",["$scope","$state","$stateParams","$api","Auth","UI",function(n,i,t,o,u,e){u.Check(function(){n.submit=function(){n.building&&o.building.update(n.building,function(n){n.code?e.AlertError(n.message):(i.go("admin.building.info"),e.AlertSuccess("保存成功"))},function(n){e.AlertError(n.data.message)})},o.building.info({id:t.id},function(i){angular.extend(n.building=i.result,{project:n.Project.selected._id})},function(n){e.AlertError(n.data.message)}),n.avgConsumptionChange=function(){n.building.totalConsumption=n.building.acreage*n.building.avgConsumption},n.totalConsumptionChange=function(){n.building.avgConsumption=n.building.totalConsumption/n.building.acreage}})}]);