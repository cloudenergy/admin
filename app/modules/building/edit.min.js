"use strict";angular.module("app").controller("Buildingedit",["$rootScope","$scope","$state","$stateParams","$api","SweetAlert",function(i,n,t,o,u,e){n.submit=function(){n.building&&u.building.update(n.building,function(){e.success("保存成功"),t.go("admin.building.info")},e.error)},u.building.info({bid:o.bid},function(t){angular.extend(n.building=t.result,{project:i.Project.selected._id})},e.error),n.avgConsumptionChange=function(){n.building.totalConsumption=n.building.acreage*n.building.avgConsumption},n.totalConsumptionChange=function(){n.building.avgConsumption=n.building.totalConsumption/n.building.acreage}}]);