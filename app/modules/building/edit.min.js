"use strict";angular.module("app").controller("Buildingedit",["$rootScope","$scope","$state","$stateParams","$api","UI",function(i,n,t,o,u,e){n.submit=function(){n.building&&u.building.update(n.building,function(){e.AlertSuccess("保存成功"),t.go("admin.building.info")},function(i){e.AlertError(i.message)})},u.building.info({id:o.id},function(t){angular.extend(n.building=t.result,{project:i.Project.selected._id})},function(i){e.AlertError(i.message)}),n.avgConsumptionChange=function(){n.building.totalConsumption=n.building.acreage*n.building.avgConsumption},n.totalConsumptionChange=function(){n.building.avgConsumption=n.building.totalConsumption/n.building.acreage}}]);