"use strict";angular.module("app").directive("withdrawDetail",["$api","$uibModal",function(c,r){return{restrict:"A",link:function(e,t,a){var i;(i=e.$eval(a.withdrawDetail))&&"WITHDRAW"===i.category&&t.click(function(){i.popup=!0,c.business.ordernodetail({id:i.id},function(a){r.open({size:"lg",windowClass:"no-border",templateUrl:"app/modules/property/withdraw-detail.html?rev=ebc916683f",controllerAs:"self",controller:["$uibModalInstance",function(e){var t=this;t.detail=a.result,t.detail.timecreate=t.detail.timecreate&&moment(1e3*t.detail.timecreate).format("YYYY-M-DD H:mm:ss")||"",t.detail.timecheck=t.detail.timecheck&&moment(1e3*t.detail.timecheck).format("YYYY-M-DD H:mm:ss")||"",t.detail.timepaid=t.detail.timepaid&&moment(1e3*t.detail.timepaid).format("YYYY-M-DD H:mm:ss")||"",t.detail.channelaccount&&(t.detail.channelaccount.tail_account=(t.detail.channelaccount.account||"").replace(/\d+(\d{4})$/,"$1")),t.classes={create:{border:t.detail.timecreate?"border-success":"",title:t.detail.timecreate?"text-success":"text-muted",icon:t.detail.timecreate?"fa-check-circle":"fa-clock-o",text:t.detail.timecreate?"申请提交成功":"等待申请"},line_check:t.detail.timecreate?"border-success":"border-default",check:{border:t.detail.timecreate&&({CHECKING:"border-warning",CHECKFAILED:"border-danger"}[t.detail.status]||"border-success")||"border-default",title:t.detail.timecreate&&({CHECKING:"text-warning",CHECKFAILED:"text-danger"}[t.detail.status]||"text-success")||"text-muted",icon:t.detail.timecreate&&({CHECKING:"fa-clock-o",CHECKFAILED:"fa-exclamation-circle"}[t.detail.status]||"fa-check-circle")||"fa-clock-o",text:t.detail.timecreate&&({CHECKING:"等待审核",CHECKFAILED:"审核失败"}[t.detail.status]||"审核通过并提交银行")||"等待审核"},line_paid:t.detail.timecreate&&({CHECKING:"border-default",CHECKFAILED:"border-default"}[t.detail.status]||"border-success")||"border-default",paid:{border:{SUCCESS:"border-success",FAILED:"border-danger",PROCESSING:"border-warning"}[t.detail.status]||"border-default",title:{SUCCESS:"text-success",FAILED:"text-danger",PROCESSING:"text-warning"}[t.detail.status]||"text-muted",icon:{SUCCESS:"fa-check-circle",FAILED:"fa-exclamation-circle"}[t.detail.status]||"fa-clock-o",text:{SUCCESS:"交易成功",FAILED:"交易失败",PROCESSING:"正在处理"}[t.detail.status]||"等待交易"}},t.Cancel=e.dismiss}]}).result.then(function(){delete i.popup},function(){delete i.popup})})})}}}]);