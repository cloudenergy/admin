<style>.pane-statistic {
        background-color: #e5eefa;
    }

    .pane-statistic span {
        font-size: 16px;
    }</style><div class="box-tab no-margin"><form class="form-inline pb10" ng-submit="self.list()"><div class="form-group w100 mr5 ng-hide" ng-show="self.status&&self.tab!=='in'"><ui-select ng-model="self.status.selected" search-enabled="false" remove-selected="false" on-select="self.list()"><ui-select-match placeholder="选择状态">{{$select.selected.title}}</ui-select-match><ui-select-choices repeat="item.key as item in self.status"><div ng-bind-html="item.title"></div></ui-select-choices></ui-select></div><div class="form-group w150 mr15 ng-hide" ng-show="self.category"><ui-select ng-model="self.category.selected" search-enabled="false" remove-selected="false" on-select="self.list()"><ui-select-match placeholder="选择类型">{{$select.selected.title}}</ui-select-match><ui-select-choices repeat="item.key as item in self.category"><div ng-bind-html="item.title"></div></ui-select-choices></ui-select></div><div class="input-group w100"><input type="text" class="form-control" ng-model="self.amount.start" placeholder="金额¥"></div><div class="input-group"><i class="glyphicon glyphicon-minus"></i></div><div class="input-group w100 mr15"><input type="text" class="form-control" ng-model="self.amount.end" placeholder="金额¥"></div><div class="input-group w250 mr10"><span class="input-group-addon pl5 pr5">名称/账号</span> <input type="text" class="form-control" ng-model="self.searchText"></div><div class="input-group"><button type="submit" class="btn btn-sm btn-primary pl20 pr20"><i class="fa fa-search"></i> 查询</button></div></form><ul class="nav nav-tabs"><li ng-class="{active:self.tab=='all'}"><a ui-sref="admin.property.record({tab:'all'})" ui-sref-opts="{inherit:false}">全部</a></li><li ng-class="{active:self.tab=='in'}"><a ui-sref="admin.property.record({tab:'in'})" ui-sref-opts="{inherit:false}">收入</a></li><li ng-class="{active:self.tab=='out'}"><a ui-sref="admin.property.record({tab:'out'})" ui-sref-opts="{inherit:false}">支出</a></li><li class="pull-right form-inline"><div class="btn-group text-primary mr10"><a href="javascript:void(0)" class="btn btn-sm no-border" ng-class="{true:'btn-primary',false:'text-primary'}[self.dateRange.selected===key]" ng-model="self.dateRange.selected" ng-click="self.dateRange.select(key)" ng-repeat="(key,val) in self.dateRange" ng-bind="val"></a></div><div class="form-group has-feedback date w150"><input type="text" class="form-control" ng-model="self.startDate" datetimepicker="{maxRangeTo:'#end_date',rangeDay:30}" id="start_date"> <span class="form-control-feedback"><i class="fa fa-calendar"></i></span></div><div class="form-group"><i class="glyphicon glyphicon-minus"></i></div><div class="form-group has-feedback date w150"><input type="text" class="form-control" ng-model="self.endDate" datetimepicker="{minRangeTo:'#start_date',rangeDay:30}" id="end_date"> <span class="form-control-feedback"><i class="fa fa-calendar"></i></span></div><button class="btn btn-sm btn-primary ml10 pl20 pr20" type="button" ng-click="self.exportProjectflow()" modal-download="self.downloadFile" modal-download-name="self.downloadName"><i class="fa fa-file-text-o"></i>导出</button></li></ul><div class="tab-content"><div class="tab-pane active"><div class="form-inline pane-statistic pl15 pr15 pt10 pb10"><div class="form-group" ng-if="self.tab!=='out'"><div class="form-group mr15">收入</div><div class="form-group mr30"><span class="text-success" ng-bind="self.statistic.earning.amount"></span> <small class="text-muted">(元)</small></div><div class="form-group ml30 mr30"><small class="text-muted">完成</small> <span ng-bind="self.statistic.earning.count"></span> <small class="text-muted">(笔)</small></div></div><div class="form-group" ng-if="self.tab!=='in'"><div class="form-group mr15" ng-class="{ml30:self.tab==='all'}">支出</div><div class="form-group mr30"><span class="text-danger" ng-bind="self.statistic.expense.amount"></span> <small class="text-muted">(元)</small></div><div class="form-group ml30"><small class="text-muted">完成</small> <span ng-bind="self.statistic.expense.count"></span> <small class="text-muted">(笔)</small></div></div></div><div class="relative col-xs-12 overflow-hidden no-padding mb15" perfect-scrollbar="!!self.listData"><table class="table table-hover bb no-margin nowrap"><thead><tr><th style="width:60px">序号</th><th>金额 ¥</th><th ng-if="self.tab==='all'">手续费 ¥</th><th>操作后余额 ¥</th><th>类型</th><th>对方</th><th>订单号</th><th ng-if="self.tab!=='all'">操作人</th><th ng-if="self.tab!=='in'">状态</th><th>时间</th></tr></thead><tbody><tr ng-repeat="item in self.listData" withdraw-detail="item" record-success="item" ng-class="{active:item.popup,'toggle-active':{RECHARGING:1,WITHDRAW:1}[item.category]}"><td ng-bind="(self.listData.index-1)*self.paging.size+$index+1"></td><td ng-class="{true:'text-success',false:'text-danger'}[item.amount>=0]" ng-bind="item.amount" style="font-size:16px"></td><td ng-bind="item.servicecharge" ng-if="self.tab==='all'"></td><td ng-bind="item.balance"></td><td ng-bind="item.category|tradeCategory:'title'"></td><td ng-if="item.category!=='WITHDRAW'" ng-bind="item.from||'-'"></td><td ng-if="item.category==='WITHDRAW'"><div class="nowrap">对方：{{item.channelaccount.name||'-'}}</div><div class="nowrap">尾号：{{item.channelaccount.tail||'-'}}</div></td><td ng-bind="item.orderno||'-'"></td><td ng-bind="item.operator" ng-if="self.tab!=='all'"></td><td ng-bind="item.status|tradeStatus:'title'" class="text-{{item.status|tradeStatus:'class'}}" ng-if="self.tab!=='in'"></td><td ng-bind="item.timepaid||item.timecheck||item.timecreate"></td></tr></tbody></table></div><div class="pull-left"><ui-select style="width:110px" ng-model="self.paging.size" search-enabled="false" remove-selected="false"><ui-select-match placeholder="每页条目">{{$select.selected.title}}</ui-select-match><ui-select-choices position="up" repeat="item.key as item in self.paging.items"><div ng-bind-html="item.title"></div></ui-select-choices></ui-select></div><ul uib-pagination class="pull-right mt0 mb0" total-items="self.listData.total" ng-model="self.paging.index" items-per-page="self.paging.size" max-size="10" rotate="false" boundary-links="true" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></ul></div></div></div>