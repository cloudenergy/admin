"use strict";angular.module("app").controller("login",["$scope","$state","UI","User",function(e,r,o,t){e.user=localStorage.user,e.$watch("rememberaccount",function(){e.rememberaccount||(e.remember=e.rememberaccount)}),e.$watch("remember",function(){e.remember&&(e.rememberaccount=e.remember)}),e.login=function(){var n=this&&this.user,a=this&&this.password,c=[];e.rememberaccount&&(localStorage.user=n),!n&&c.push("帐号"),!a&&c.push("密码"),c=c.join("与"),c&&o.AlertError("请输入您的"+c),!c&&t.$login({user:n,passwd:(new window.Hashes.MD5).hex(a).toUpperCase(),remember:e.remember}).then(function(){r.go("admin.dashboard",{},{location:"replace"})},o.AlertError)}}]);