"use strict";angular.module("app").controller("login",["$scope","$state","UI","User",function(e,r,o,t){e.user=localStorage.user,e.$watch("rememberaccount",function(){e.rememberaccount||(e.remember=e.rememberaccount)}),e.$watch("remember",function(){e.remember&&(e.rememberaccount=e.remember)}),e.login=function(){var a=this&&this.user,s=this&&this.password,m=[];e.rememberaccount&&(localStorage.user=a),!a&&m.push("帐号"),!s&&m.push("密码"),m=m.join("与"),m&&o.AlertError("请输入您的"+m),!m&&t.$login({user:a,passwd:(new Hashes.MD5).hex(s).toUpperCase(),remember:e.remember}).then(function(){r.go(r.prev.state||"admin.dashboard",r.prev.params||{},{location:"replace"})},o.AlertError)}}]);