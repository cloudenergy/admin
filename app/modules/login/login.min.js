"use strict";angular.module("app").controller("login",["$scope","$state","UI","User",function(e,r,o,t){e.user=localStorage.user,e.$watch("rememberaccount",function(){e.rememberaccount||(e.remember=e.rememberaccount)}),e.$watch("remember",function(){e.remember&&(e.rememberaccount=e.remember)}),e.login=function(){var n=this&&this.user,c=this&&this.password,m=[];e.rememberaccount&&(localStorage.user=n),!n&&m.push("帐号"),!c&&m.push("密码"),m=m.join("与"),m&&o.AlertError("请输入您的"+m),!m&&t.$login({user:n,passwd:(new window.Hashes.MD5).hex(c).toUpperCase(),remember:e.remember}).then(function(){r.go("admin.index",{},{location:"replace"})},o.AlertError)}}]);