<div class="panel panel-default mb0 layout-column"><div class="panel-body flex-initial pb0"><div class="pull-right pt8 pr15 mb10"><a class="btn-link" ng-click="$ctrl.addnode('root')">添加属性</a></div></div><div class="panel-body flex overflow-auto pt0 pb0"><table class="table table-bordered table-hover mb0 table-node"><thead><tr><td class="col-sm-3">属性名</td><td class="col-sm-4"><span style="padding-left:40px">仪表关联</span></td><td class="col-sm-3">操作</td></tr></thead><tbody><tr ng-repeat="item in $ctrl.listData[0].nodes"><td colspan="4" class="table-td"><div class="col-sm-12 table-row" ng-class="{'pb10':$last}" ng-click="item.showChildren=!item.showChildren;"><div class="col-sm-3"><input class="form-control" ng-click="$event.stopPropagation();" type="text" ng-model="item.title"></div><div class="col-sm-5" style="padding-left: 100px">{{item.key}}<a ng-if="$ctrl.empty(item.child)" class="glyphicon glyphicon-link" ng-click="$event.stopPropagation();$ctrl.changeSensor(item)"></a></div><div class="col-sm-2" ng-if="item.id"><a class="ml20" ng-click="$event.stopPropagation();item.edit=false;$ctrl.save('root',item,'UPDATE','NODE');"><i class="fa fa-floppy-o"></i></a><a class="ml10" ng-if="!item.key" ng-click="$event.stopPropagation();item.showChildren=true;$ctrl.addnode('child',item)"><i class="fa fa-plus-square"></i></a><a class="ml10" ng-click="$event.stopPropagation();$ctrl.delete(item);"><i class="fa fa-times"></i></a></div><div class="col-sm-2" ng-if="!item.id"><a class="ml20" ng-click="$ctrl.save('root',item,'ADD','NODE')"><i class="fa fa-floppy-o"></i></a><a class="ml10" ng-click="$ctrl.cancel($ctrl.listData[0].nodes,$index)"><i class="fa fa-times"></i></a></div></div><div class="col-sm-12 table-child" style="padding-left: 10px!important;padding-top:10px!important;padding-bottom:10px!important" ng-if="item.showChildren" ng-repeat="child in item.nodes"><div class="col-sm-3" ng-click="child.showGrandchildren=!child.showGrandchildren"><input class="form-control table-child-input" ng-click="$event.stopPropagation();" type="text" ng-model="child.title"></div><div class="col-sm-5" style="padding-left: 100px" ng-click="child.showGrandchildren=!child.showGrandchildren">{{child.key}}<a ng-if="$ctrl.empty(child.child)" class="glyphicon glyphicon-link" ng-click="$event.stopPropagation();$ctrl.changeSensor(child)"></a></div><div class="col-sm-2" ng-click="child.showGrandchildren=!child.showGrandchildren" ng-if="!child.id"><a class="ml20" ng-click="$event.stopPropagation();$ctrl.save('child',child,'ADD','NODE');"><i class="fa fa-floppy-o"></i></a><a class="ml10" ng-click="$ctrl.cancel(item.nodes,$index);$event.stopPropagation();"><i class="fa fa-times"></i></a></div><div class="col-sm-2" ng-click="child.showGrandchildren=!child.showGrandchildren" ng-if="child.id"><a class="ml20" ng-click="$event.stopPropagation();$ctrl.save('child',child,'UPDATE','NODE');"><i class="fa fa-floppy-o"></i></a><a class="ml10" ng-if="!child.key" ng-click="$event.stopPropagation();child.showGrandchildren=true;$ctrl.addnode('child',child)"><i class="fa fa-plus-square"></i></a><a class="ml10" ng-click="$ctrl.delete(child,item);$event.stopPropagation();"><i class="fa fa-times"></i></a></div><div class="col-sm-12 table-grandchild" style="padding-top:10px!important" ng-if="child.showGrandchildren" ng-repeat="node in child.nodes"><div class="col-sm-3" style="margin-left: -5px"><input class="form-control table-grandchild-input" ng-click="$event.stopPropagation();" type="text" ng-model="node.title"></div><div class="col-sm-5" style="padding-left: 100px">{{node.key}}<a class="glyphicon glyphicon-link" ng-click="$event.stopPropagation();$ctrl.changeSensor(node)"></a></div><div class="col-sm-2" ng-if="!node.id"><a class="ml20" style="margin-left: 28px" ng-click="$ctrl.save('child',node,'ADD','DEV');"><i class="fa fa-floppy-o"></i></a><a class="ml10" ng-click="$ctrl.cancel(child.nodes,$index)"><i class="fa fa-times"></i></a></div><div class="col-sm-2" ng-if="node.id"><a class="ml20" style="margin-left: 28px" ng-click="$ctrl.save('child',node,'UPDATE','DEV')"><i class="fa fa-floppy-o"></i></a><a class="ml10" ng-click="$ctrl.delete(node,child)"><i class="fa fa-times"></i></a></div></div></div></td></tr></tbody></table></div><div class="panel-body flex-initial pt0"></div></div>