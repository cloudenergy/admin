"use strict";angular.module("app").component("customerSensor",{templateUrl:"app/modules/customer/sensor.html?rev=ba7dd694ee",bindings:{resolve:"<",close:"&",dismiss:"&"},controller:["$api",function(e){var n,t=this,c=function(){e.sensor.info({project:t.ProjectID,key:t.sensorSearchKey,pageindex:t.currentPage},function(e){angular.forEach(t.viewOfSensors=e.result.detail||[],function(e){e.isEnable=!!t.SelectKEY[e.did]}),t.pagingCount=e.result.paging.count})};t.switchSensor=function(e,n){e.isEnable=n,e.isEnable?0===t.SelectKEY[e.did]?t.SelectKEY[e.did]=1:angular.isUndefined(t.SelectKEY[e.did])&&(t.SelectKEY[e.did]=e.title):1===t.SelectKEY[e.did]?t.SelectKEY[e.did]=0:delete t.SelectKEY[e.did]},t.searchSensor=function(e){(e||!angular.equals(n,t.sensorSearchKey))&&c(),n=t.sensorSearchKey},t.selectAll=function(e){angular.forEach(t.viewOfSensors,function(n){t.switchSensor(n,e)})},t.currentPage=1,t.pageChanged=c,t.$onInit=function(){t.ProjectID=t.resolve.ProjectID,t.SelectKEY=t.resolve.SelectKEY,c()},t.Submit=function(){t.close({$value:t.SelectKEY})},t.Cancel=function(){t.dismiss({$value:"cancel"})}}]});