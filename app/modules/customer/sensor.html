<div class="modal-header"><button type="button" class="close" ng-click="$ctrl.Cancel()"><span>&times;</span></button><h4 class="modal-title">选择智能仪表</h4></div><div class="modal-body"><form class="form-inline" ng-submit="$ctrl.OnSearch(true)"><div class="input-group mr10"><ui-select ng-model="$ctrl.devicetype.selected" on-select="$ctrl.devicetype.select()" remove-selected="false"><ui-select-match placeholder="--仪表类型--">{{$select.selected.name}}</ui-select-match><ui-select-choices repeat="item.id as item in $ctrl.devicetype | filter: $select.search"><div ng-bind-html="item.name | highlight: $select.search"></div></ui-select-choices></ui-select></div><div class="input-group"><input type="text" class="form-control" placeholder="名称、ID" ng-model="$ctrl.sensorSearchKey" ng-blur="$ctrl.OnSearch()"> <span class="input-group-btn"><button type="submit" class="btn"><i class="glyphicon glyphicon-search"></i></button></span></div></form></div><div class="modal-body pt0 pb0"><div class="list-group mb0"><a href="javascript:void(0)" class="list-group-item" ng-click="$ctrl.SwitchSensor(item,!item.isEnable)" ng-repeat="item in $ctrl.listData"><i class="glyphicon mt2" ng-class="{true:'text-primary glyphicon-check',false:'text-muted glyphicon-unchecked'}[item.isEnable]"></i> <span ng-class="{'text-primary':item.isEnable}" ng-show="$ctrl.devicetype">「{{item.devicetype | deviceType}}」</span> <span ng-class="{'text-primary':item.isEnable}">{{item.title}}</span> <span ng-class="{'text-primary':item.isEnable}" class="pull-right">类型：{{item.subentry | subentry}}ID：{{item.did.substr(12,12)}}</span></a></div></div><div class="modal-body" ng-if="$ctrl.pagingCount"><ul uib-pagination class="no-margin" ng-model="$ctrl.currentPage" total-items="$ctrl.pagingCount || 0" ng-change="$ctrl.pageChanged()" max-size="10" boundary-links="true" rotate="false" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></ul><span class="inline fs34 ml10" style="vertical-align:top">总共{{$ctrl.pagingCount || 0}}条</span></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-click="$ctrl.Ok()">确定</button> <button type="button" class="btn btn-default" ng-click="$ctrl.Cancel()">取消</button></div>