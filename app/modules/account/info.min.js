"use strict";angular.module("app").controller("accountInfo",["$scope","$api","UI",function(e,n,t){e.askingRemoveID=void 0,e.currentPage=1,e.getAccounts=function(){n.account.info({key:e.searchKey,pageindex:e.currentPage||1,pagesize:15},function(n){e.accounts=n.result},function(e){!/90000005|90000007/.test(e.code)&&t.AlertError(e)})},e.DoRemove=function(c,o,u){c.preventDefault(),n.account.delete({id:o},function(){e.accounts.accounts.splice(u,1)},t.AlertError)},e.AskForRemove=function(n,t){n.preventDefault(),e.askingRemoveID=t},e.CancelRemove=function(n){n.preventDefault(),e.askingRemoveID=void 0},e.$watch("currentPage",function(n){if(!n)return void e.getAccounts();e.getAccounts()}),e.onSearch=function(){e.getAccounts()}}]);