"use strict";angular.module("app").controller("accountInfo",["$scope","$api","Auth","$cookies","UI",function(e,t,n,o,r){e.operateStatus={create:{isEnable:!1,url:"/create"},delete:{isEnable:!1,url:"/delete"},edit:{isEnable:!1,url:"/edit"},roleres:{isEnable:!1,url:"/roleres"},amount:{isEnable:!1,url:"/amount"}},e.askingRemoveID=void 0,n.Check(e.operateStatus,function(){e.currentPage=r.GetPageIndex(),e.getAccounts=function(){var n={pageindex:e.currentPage||1};e.searchKey&&e.searchKey.length&&(n.key=e.searchKey),t.account.info(n,function(t){e.accounts=t.result},function(e){r.AlertError(e.message)})},e.DoRemove=function(n,o,c){n.preventDefault();var a=r.GetAbsoluteIndex(e.currentPage,c);t.account.delete({id:o},function(){e.accounts.splice(a,1)},function(e){r.AlertError(e.message)})},e.AskForRemove=function(t,n){t.preventDefault(),e.askingRemoveID=n},e.CancelRemove=function(t,n){t.preventDefault(),e.askingRemoveID=void 0},e.$watch("currentPage",function(t){return t?(e.getAccounts(),void r.PutPageIndex(void 0,e.currentPage)):(e.currentPage=r.GetPageIndex(),void e.getAccounts())}),e.onSearch=function(){e.getAccounts()},e.adminUser=o.user})}]);