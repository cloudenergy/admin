"use strict";angular.module("app").component("accountInfo",{templateUrl:"app/modules/account/info.html?rev=a12f9dfa04",controller:["$api","SweetAlert",function(e,o){var t=this;t.list=function(){e.account.info({key:t.searchKey,pageindex:t.currentPage||1,pagesize:15},function(e){t.listData=e.result},function(e){!/90000005|90000007/.test(e.code)&&o.error(e)})},t.$onInit=t.list,t.DoRemove=function(r){e.account.delete({id:r},function(){t.list()},o.error)},t.popover={field:void 0,target:void 0,openChange:function(e,o){t.originalItem=e,t.popover.target=angular.copy(e),t.popover.field=o},ok:function(){var r={id:t.popover.target._id};r[t.popover.field]=t.popover.target[t.popover.field],e.account.update(r,function(){o.success("更新成功"),t.originalItem[t.popover.field]=t.popover.target[t.popover.field],t.popover.close()},o.error)},close:function(){delete t.popover.field,delete t.popover.target}}}]});