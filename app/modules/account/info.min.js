"use strict";angular.module("app").controller("accountInfo",["$scope","$api","$cookies","UI","$rootScope",function(e,n,t,o,c){e.askingRemoveID=void 0,e.currentPage=1,c.rightChange&&c.User.$account()&&delete c.rightChange,e.getAccounts=function(){n.account.info({key:e.searchKey,pageindex:e.currentPage||1,pagesize:15},function(n){e.accounts=n.result},function(e){!/90000005|90000007/.test(e.code)&&o.AlertError(e)})},e.DoRemove=function(t,c,r){t.preventDefault(),n.account.delete({id:c},function(){e.accounts.accounts.splice(r,1)},o.AlertError)},e.AskForRemove=function(n,t){n.preventDefault(),e.askingRemoveID=t},e.CancelRemove=function(n){n.preventDefault(),e.askingRemoveID=void 0},e.$watch("currentPage",function(n){return n?void e.getAccounts():void e.getAccounts()}),e.onSearch=function(){e.getAccounts()},e.adminUser=t.user}]);