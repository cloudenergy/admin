"use strict";angular.module("app").controller("accountInfo",["$scope","$location","$api","Auth","$cookies","UI","Config",function(e,t,n,o,a,c,r){e.operateStatus={create:{isEnable:!1,url:"/create"},delete:{isEnable:!1,url:"/delete"},edit:{isEnable:!1,url:"/edit"},roleres:{isEnable:!1,url:"/roleres"},amount:{isEnable:!1,url:"/amount"}},e.askingRemoveID=void 0,o.Check(e.operateStatus,function(){function t(e){c.AlertError(e.data.message)}e.currentPage=c.GetPageIndex(),e.getAccounts=function(){var o={pageindex:e.currentPage||1};e.searchKey&&e.searchKey.length&&(o.key=e.searchKey),n.account.info(o,function(t){e.accounts=t.result},t)},e.DoRemove=function(o,a,r){o.preventDefault();var u=c.GetAbsoluteIndex(e.currentPage,r);n.account.delete({id:a},function(){e.accounts.splice(u,1)},t)},e.AskForRemove=function(t,n){t.preventDefault(),e.askingRemoveID=n},e.CancelRemove=function(t,n){t.preventDefault(),e.askingRemoveID=void 0},e.$watch("currentPage",function(t){return t?(e.getAccounts(),void c.PutPageIndex(void 0,e.currentPage)):(e.currentPage=c.GetPageIndex(),void e.getAccounts())}),e.onSearch=function(){e.getAccounts()},e.adminUser=a.user})}]);