"use strict";angular.module("app").controller("accountInfo",["$scope","$api","$cookies","UI",function(e,n,t,c){e.askingRemoveID=void 0,e.currentPage=c.GetPageIndex(),e.getAccounts=function(){n.account.info({key:e.searchKey,pageindex:e.currentPage||1,pagesize:15},function(n){e.accounts=n.result},function(e){c.AlertError(e.message)})},e.DoRemove=function(t,o,u){t.preventDefault(),n.account.delete({id:o},function(){e.accounts.accounts.splice(u,1)},function(e){c.AlertError(e.message)})},e.AskForRemove=function(n,t){n.preventDefault(),e.askingRemoveID=t},e.CancelRemove=function(n,t){n.preventDefault(),e.askingRemoveID=void 0},e.$watch("currentPage",function(n){return n?(e.getAccounts(),void c.PutPageIndex(void 0,e.currentPage)):(e.currentPage=c.GetPageIndex(),void e.getAccounts())}),e.onSearch=function(){e.getAccounts()},e.adminUser=t.user}]);