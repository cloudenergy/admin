<div class="panel panel-default mb0 layout-column single-edit"><div class="panel-body flex-initial"><form class="form-inline pb10 bb"><div class="form-group w300"><input type="text" class="form-control" placeholder="输入帐号ID/名称进行查询" ng-model="searchKey"></div><div class="form-group ml30"><a class="btn-link" ng-click="onSearch($event)">查询</a></div><div class="pull-right pt7 pr15"><a class="btn-link" ui-sref="admin.account.create" ng-show="$root.Rule.admin.account.create">新建</a></div></form></div><div class="panel-body flex overflow-auto pt0 pb0"><table class="table table-bordered table-hover mb0"><thead class="centerTable"><tr><th>帐号</th><th>名称</th><th>权限级别</th><th>手机</th><th>邮箱</th><th>最后登录时间</th><th style="width:200px">操作</th></tr></thead><tbody class="centerTable"><tr ng-repeat="account in accounts.accounts"><td>{{account._id || '-'}}</td><td class="row-title">{{account.title || '-'}} <a class="glyphicon glyphicon-pencil td-row-edit" popover-is-open="account.titleIsOpen" uib-popover-template="popover.url.title" popover-title="{{popover.title.title}}" popover-placement="bottom" ng-click="Change.title=account.title;popIsOpen()" class="btn btn-default"></a></td><td>{{account.character && account.character.title || '未知'}}</td><td>{{account.mobile || '-'}} <a class="glyphicon glyphicon-pencil td-row-edit" popover-is-open="account.mobileIsOpen" uib-popover-template="popover.url.mobile" popover-title="{{popover.title.mobile}}" popover-placement="bottom" ng-click="Change.mobile=account.mobile;popIsOpen()" class="btn btn-default"></a></td><td>{{account.email || '-'}} <a class="glyphicon glyphicon-pencil td-row-edit" popover-is-open="account.emailIsOpen" uib-popover-template="popover.url.email" popover-title="{{popover.title.email}}" popover-placement="bottom" ng-click="Change.email=account.email;popIsOpen()" class="btn btn-default"></a></td><td>{{account.lastlogin || '-'}}</td><td><a class="btn-link mr10" ui-sref="admin.account.roleres({id:account._id})" ng-show="$root.Rule.admin.account.roleres">权限资源</a> <a class="btn-link mr10" ui-sref="admin.account.edit({id:account._id})" ng-show="$root.Rule.admin.account.edit">编辑</a> <a class="btn-link" ng-click="AskForRemove($event, account._id)" ng-show="account._id != askingRemoveID && $root.Rule.admin.account.delete">删除</a> <a class="btn-link mr10" ng-show="account._id == askingRemoveID" ng-click="CancelRemove($event, account._id)">取消</a> <a class="btn-link" ng-show="account._id == askingRemoveID" ng-click="DoRemove($event, account._id, $index)">确定</a></td></tr></tbody></table></div><div class="panel-body flex-initial"><div class="pt15 bt"><div class="pull-right"><span class="inline fs34" style="vertical-align:top">帐号总数{{accounts.paging.count || "0"}}条</span><uib-pagination class="mt0 mb0 ml10" total-items="accounts.paging.count" ng-model="currentPage" items-per-page="accounts.paging.pagesize" max-size="10" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></uib-pagination></div></div></div></div><script type="text/ng-template" id="titleChange.html"><div class="modal-body text-center">
        <input type="text" class="form-control" ng-model="Change.title" focused>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-sm btn-primary mr5" ng-click="popover.ok(account,'title',Change)">修改</button>
        <button class="btn btn-sm btn-default" ng-click="popover.cancel(account,'title')">取消</button>
    </div></script><script type="text/ng-template" id="mobileChange.html"><div class="modal-body text-center">
        <input type="text" class="form-control" ng-model="Change.mobile" focused>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-sm btn-primary mr5" ng-click="popover.ok(account,'mobile',Change)">修改</button>
        <button class="btn btn-sm btn-default" ng-click="popover.cancel(account,'mobile')">取消</button>
    </div></script><script type="text/ng-template" id="emailChange.html"><div class="modal-body text-center">
        <input type="text" class="form-control" ng-model="Change.email" focused>
    </div>
    <div class="modal-footer text-center">
        <button class="btn btn-sm btn-primary mr5" ng-click="popover.ok(account,'email',Change)">修改</button>
        <button class="btn btn-sm btn-default" ng-click="popover.cancel(account,'email')">取消</button>
    </div></script>