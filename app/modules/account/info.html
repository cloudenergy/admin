<div class="panel panel-default mb0 layout-column"><div class="panel-body flex-initial"><form class="form-inline pb10 bb"><div class="form-group w300"><input type="text" class="form-control" placeholder="输入帐号ID/名称进行查询" ng-model="searchKey"></div><div class="form-group ml30"><a class="btn-link" ng-click="onSearch($event)">查询</a></div><div class="pull-right pt7 pr15"><a class="btn-link" ui-sref="admin.account.create" ng-show="$root.Rule.admin.account.create">新建</a></div></form></div><div class="panel-body flex overflow-auto pt0 pb0"><table class="table table-bordered table-hover mb0"><thead class="centerTable"><tr><th>帐号</th><th>名称</th><th>权限级别</th><th>手机</th><th>邮箱</th><th>最后登录时间</th><th style="width:200px">操作</th></tr></thead><tbody class="centerTable"><tr ng-repeat="account in accounts.accounts"><td>{{account._id || '-'}}</td><td ng-mouseover="titleChange=true" ng-mouseleave="titleChange=false" style="max-width: 220px"><span class="tableInlineBlock" style="max-width:200px"><nobr>{{account.title || '-'}}</nobr></span><i class="glyphicon glyphicon-pencil" ng-show="titleChange" ng-click="accountChange(account,'title')"></i><i ng-show="!titleChange" style="display: inline-block;width: 13px"></i></td><td>{{account.character && account.character.title || '未知'}}</td><td ng-mouseover="mobileChange=true" ng-mouseleave="mobileChange=false">{{account.mobile || '-'}}<i class="glyphicon glyphicon-pencil" ng-show="mobileChange" ng-click="accountChange(account,'mobile')"></i><i ng-show="!mobileChange" style="display: inline-block;width: 13px"></i></td><td ng-mouseover="emailChange=true" ng-mouseleave="emailChange=false" style="max-width: 220px"><span class="tableInlineBlock" style="max-width:200px"><nobr>{{account.email || '-'}}</nobr></span><i class="glyphicon glyphicon-pencil" ng-show="emailChange" ng-click="accountChange(account,'email')"></i><i ng-show="!emailChange" style="display: inline-block;width: 13px"></i></td><td>{{account.lastlogin || '-'}}</td><td><a class="btn-link mr10" ui-sref="admin.account.roleres({id:account._id})" ng-show="$root.Rule.admin.account.roleres">权限资源</a> <a class="btn-link mr10" ui-sref="admin.account.edit({id:account._id})" ng-show="$root.Rule.admin.account.edit">编辑</a> <a class="btn-link" ng-click="AskForRemove($event, account._id)" ng-show="account._id != askingRemoveID && $root.Rule.admin.account.delete">删除</a> <a class="btn-link mr10" ng-show="account._id == askingRemoveID" ng-click="CancelRemove($event, account._id)">取消</a> <a class="btn-link" ng-show="account._id == askingRemoveID" ng-click="DoRemove($event, account._id, $index)">确定</a></td></tr></tbody></table></div><div class="panel-body flex-initial"><div class="pt15 bt"><div class="pull-right"><span class="inline fs34" style="vertical-align:top">帐号总数{{accounts.paging.count || "0"}}条</span><uib-pagination class="mt0 mb0 ml10" total-items="accounts.paging.count" ng-model="currentPage" items-per-page="accounts.paging.pagesize" max-size="10" previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"></uib-pagination></div></div></div></div><script type="text/ng-template" id="titleChange.html"><div class="modal-content">
        <div class="modal-header">
            <h4 class="modal-title">{{title}}帐号名称修改</h4>
        </div>
        <div class="modal-body text-center">
            <input type="text" class="form-control" ng-model="account.title">
        </div>
        <div class="modal-footer text-center">
            <button class="btn btn-sm btn-danger mr5" ng-click="ok()">修改</button>
            <button class="btn btn-sm btn-warning" ng-click="cancel()">取消</button>
        </div>
    </div></script><script type="text/ng-template" id="mobileChange.html"><div class="modal-content">
        <div class="modal-header">
            <h4 class="modal-title">{{title}}手机号修改</h4>
        </div>
        <div class="modal-body text-center">
            <input type="text" class="form-control" ng-model="account.mobile">
        </div>
        <div class="modal-footer text-center">
            <button class="btn btn-sm btn-danger mr5" ng-click="ok()">修改</button>
            <button class="btn btn-sm btn-warning" ng-click="cancel()">取消</button>
        </div>
    </div></script><script type="text/ng-template" id="emailChange.html"><div class="modal-content">
        <div class="modal-header">
            <h4 class="modal-title">{{title}}手机号修改</h4>
        </div>
        <div class="modal-body text-center">
            <input type="text" class="form-control" ng-model="account.email">
        </div>
        <div class="modal-footer text-center">
            <button class="btn btn-sm btn-danger mr5" ng-click="ok()">修改</button>
            <button class="btn btn-sm btn-warning" ng-click="cancel()">取消</button>
        </div>
    </div></script>