<style>.table-apps>tbody>tr>th {
        line-height: 25px;
    }

    .table-apps>tbody>tr>th,
    .table-apps>tbody>tr>td {
        padding-left: 10px;
        padding-right: 10px;
    }</style><div class="panel panel-default mb0 layout-column box-tab no-bg"><div class="panel-body flex-initial bg-white"><form class="form-inline pb10 bb text-right"><div class="form-group"><a class="btn-link mr15" ng-click="form.$valid && $ctrl.update()">保存</a> <a class="btn-link" ng-click="$ctrl.clean()">清空</a></div></form></div><div class="panel-body flex-initial bg-white mb15"><form name="form" class="form-horizontal"><div class="form-group row"><b class="control-label col-md-1">选择模板</b><div class="col-md-11"><ui-select ng-model="$ctrl.templates.selected" remove-selected="false"><ui-select-match placeholder="选择模板">{{$select.selected.name}}</ui-select-match><ui-select-choices repeat="item in $ctrl.templates | filter: $select.search"><span ng-bind-html="item.name | highlight: $select.search"></span></ui-select-choices></ui-select></div></div><div class="form-group row"><b class="control-label col-md-1">图标链接</b><div class="col-md-11"><input type="text" class="form-control" name="icons" ng-model="$ctrl.template.icons" placeholder="图标链接（从iconfont获得）" required></div></div></form></div><ul class="nav nav-tabs w-max flex-initial"><li ng-click="$ctrl.tabActive='slide'" class="active"><a href="#slide" data-toggle="tab">轮播图</a></li><li ng-click="$ctrl.tabActive='basic'"><a href="#basic" data-toggle="tab">主要应用</a></li><li ng-click="$ctrl.tabActive='third'"><a href="#third" data-toggle="tab">第三方应用</a></li><li class="pull-right"><div class="pt10 pr15" ng-show="$ctrl.tabActive==='slide'"><span class="inline mr30">最多可上传10张</span> <a class="btn-link pull-right" ng-model="$ctrl.template.slide" ngf-select="$ctrl.slide.upload()" ngf-multiple="true" ngf-keep="true" ngf-accept="'image/*'" ngf-pattern="'.bmp,.jpg,.jpeg'" ngf-resize="{width: 750, height: 360, quality: 0.8}" ngf-resize-if="$width > 750 || $height > 360" ngf-max-files="10"><b>添加</b></a></div><div class="pt10 pr15" ng-show="$ctrl.tabActive==='basic'"><a class="btn-link pull-right" ng-click="$ctrl.modalApp($event,'basic')"><b>添加</b></a></div><div class="pt10 pr15" ng-show="$ctrl.tabActive==='third'"><a class="btn-link pull-right" ng-click="$ctrl.modalApp($event,'third')"><b>添加</b></a></div></li></ul><div class="tab-content flex layout-column"><div class="tab-pane flex overflow-auto active" id="slide"><table class="table table-hover table-apps mb0"><tr class="active"><th style="width:60px;" class="text-center">序号</th><th class="text-center w150">预览</th><th class="w350">标题</th><th>链接</th><th class="w100">排序</th><th class="w150">操作</th></tr><tr ng-repeat="item in $ctrl.template.slide|orderBy:'sort' track by $index"><td ng-bind="$index+1" class="text-center"></td><td class="text-center"><div class="bordered w100" style="height:48px;margin:0 auto;background-position:50% 50%;background-repeat:no-repeat;background-size:contain;" ngf-thumbnail="(item.$upload||item.$base64)&&item||('http://7xruep.com1.z0.glb.clouddn.com/'+item.key+'?imageView2/1/w/100/h/48')" ngf-size="{width: 100, height: 48}" ngf-as-background="true"></div></td><td><input type="text" class="form-control" ng-model="item.title" maxlength="100"></td><td><input type="text" class="form-control" ng-model="item.target" maxlength="500"></td><td><input type="number" class="form-control" ng-model="item.sort" maxlength="5"></td><td><div ng-if="!item.key" class="text-warning">正在上传...</div><a class="btn-link" ng-if="item.key" ng-click="$ctrl.slide.delete(item,$index)">删除</a></td></tr></table></div><div class="tab-pane flex overflow-auto" id="basic"><table class="table table-hover table-apps mb0"><tr class="text-overflow-ellipsis active"><th style="width:60px;" class="text-center">序号</th><th style="width:120px;">应用名称</th><th style="width:90px;" class="text-center">应用图标</th><th style="width:150px;">图标颜色</th><th>背景颜色</th><th>路由地址 / 外部链接</th><th style="width:60px;" class="text-center">排序</th><th style="width:120px;">操作</th></tr><tr ng-repeat="item in $ctrl.template.basic|orderBy:'sort' track by $index"><td ng-bind="$index+1" class="text-center"></td><td ng-bind="item.label" style="white-space:nowrap;"></td><td class="text-center"><i ng-class="item.icon" ng-style="{color:item.iconColor||'#666'}"></i></td><td ng-bind="item.iconColor" ng-style="{color:item.iconColor||'#666','white-space':'nowrap'}"></td><td ng-bind="item.bgColor" ng-style="{color:item.bgColor||'#666','white-space':'nowrap'}"></td><td style="word-break:break-all;"><span ng-if="item.state" ng-bind="item.state"></span> <a ng-if="!item.state" target="_blank" class="btn-link" ng-href="{{item.target}}" ng-bind="item.target"></a></td><td ng-bind="item.sort" class="text-center"></td><td><a href="javascript:void(0)" class="text-primary glyphicon glyphicon-edit" ng-click="$ctrl.modalApp($event,'basic',item)"></a> <a href="javascript:void(0)" class="text-warning glyphicon glyphicon-trash ml15" ng-if="!item.delete" ng-click="item.delete=true"></a> <a href="javascript:void(0)" class="text-danger glyphicon glyphicon-remove ml15" ng-if="item.delete" ng-click="item.delete=false"></a> <a href="javascript:void(0)" class="text-default glyphicon glyphicon-ok ml15" ng-style="{color:'green'}" ng-if="item.delete" ng-click="$ctrl.remove($event,'basic')"></a></td></tr></table></div><div class="tab-pane flex overflow-auto" id="third"><table class="table table-hover table-apps mb0"><tr class="text-overflow-ellipsis active"><th style="width:60px;" class="text-center">序号</th><th style="width:120px;">应用名称</th><th style="width:90px;" class="text-center">应用图标</th><th style="width:150px;">图标颜色</th><th>路由地址 / 外部链接</th><th style="width:60px;" class="text-center">排序</th><th style="width:120px;">操作</th></tr><tr ng-repeat="item in $ctrl.template.third|orderBy:'sort' track by $index"><td ng-bind="$index+1" class="text-center"></td><td ng-bind="item.label" style="white-space:nowrap;"></td><td class="text-center"><i ng-class="item.icon" ng-style="{color:item.iconColor||'#666'}"></i></td><td ng-bind="item.iconColor" ng-style="{color:item.iconColor||'#666','white-space':'nowrap'}"></td><td style="word-break:break-all;"><span ng-if="item.state" ng-bind="item.state"></span> <a ng-if="!item.state" target="_blank" class="btn-link" ng-href="{{item.target}}" ng-bind="item.target"></a></td><td ng-bind="item.sort" class="text-center"></td><td><a href="javascript:void(0)" class="text-primary glyphicon glyphicon-edit" ng-click="$ctrl.modalApp($event,'third',item)"></a> <a href="javascript:void(0)" class="text-warning glyphicon glyphicon-trash ml15" ng-if="!item.delete" ng-click="item.delete=true"></a> <a href="javascript:void(0)" class="text-danger glyphicon glyphicon-remove ml15" ng-if="item.delete" ng-click="item.delete=false"></a> <a href="javascript:void(0)" class="text-default glyphicon glyphicon-ok ml15" ng-style="{color:'green'}" ng-if="item.delete" ng-click="$ctrl.remove($event,'third')"></a></td></tr></table></div></div></div>