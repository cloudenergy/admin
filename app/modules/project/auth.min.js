"use strict";angular.module("app").component("projectAuth",{templateUrl:"app/modules/project/auth.html?rev=273da005d3",controller:["$stateParams","$http","$api","$state","$q",function(o,t,a,n,r){var u=this;angular.extend(u,{$onInit:function(){a.project.info({id:o.id},function(t){u.projectName=t.result.title}),a.project.authorityInfo({projectid:o.id},function(t){!function o(t,n,a){angular.forEach(t,function(t,n){var e={title:n,nodes:[]};angular.isUndefined(t.enable)?o(t,e.nodes,a.concat([n])):(e.select=t.enable,e.url="/"+a.concat([n]).join("/")),this.push(e)},n)}(angular.copy(t.result),t.result=[],[]),u.dataJson=t.result})},EnableSubNode:function(t,e){!function n(t){t&&angular.forEach(t.nodes,function(t){t.nodes.length?n(t):t.select=e})}(t)},OnSave:function(){var e=[];!function n(t){angular.forEach(t,function(t){t.url?e.push(a.project.authorityUpdate({projectid:o.id,url:t.url,enable:t.select}).$promise):n(t.nodes)})}(u.dataJson),r.all(e).then(function(){n.go("admin.project.info")})}})}]});