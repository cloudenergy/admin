"use strict";angular.module("app").component("projectAuth",{templateUrl:"app/modules/project/auth.html?rev=adce2477aa",controller:["$stateParams","$http","$api","$state","$q",function(n,t,e,o,a){console.log(n);var r=this;angular.extend(r,{$onInit:function(){e.project.info({id:n.id},function(n){r.projectName=n.result.title}),e.project.authorityInfo({projectid:n.id},function(n){!function n(t,e,o){angular.forEach(t,function(t,e){var a={title:e,nodes:[]};angular.isUndefined(t.enable)?n(t,a.nodes,o.concat([e])):(a.select=t.enable,a.url="/"+o.concat([e]).join("/")),this.push(a)},e)}(angular.copy(n.result),n.result=[],[]),r.dataJson=n.result})},EnableSubNode:function(n,t){!function n(e){e&&angular.forEach(e.nodes,function(e){e.nodes.length?n(e):e.select=t})}(n)},OnSave:function(){var t=[];!function o(a){angular.forEach(a,function(a){a.url?t.push(e.project.authorityUpdate({projectid:n.id,url:a.url,enable:a.select}).$promise):o(a.nodes)})}(r.dataJson),a.all(t).then(function(){o.go("admin.project.info")})}})}]});