"use strict";angular.module("app").component("projectAuth",{templateUrl:"app/modules/project/auth.html?rev=5f357e9a65",controller:["$stateParams","$http","$api","$state","$q",function(t,n,e,o,a){var r=this;angular.extend(r,{$onInit:function(){e.project.info({id:t.id},function(t){r.projectName=t.result.title}),e.project.authorityInfo({projectid:t.id},function(t){!function t(n,e,o){angular.forEach(n,function(n,e){var a={title:e,nodes:[]};angular.isUndefined(n.enable)?t(n,a.nodes,o.concat([e])):(a.select=n.enable,a.url="/"+o.concat([e]).join("/")),this.push(a)},e)}(angular.copy(t.result),t.result=[],[]),r.dataJson=t.result})},EnableSubNode:function(t,n){!function t(e){e&&angular.forEach(e.nodes,function(e){e.nodes.length?t(e):e.select=n})}(t)},OnSave:function(){var n=[];!function o(a){angular.forEach(a,function(a){a.url?n.push(e.project.authorityUpdate({projectid:t.id,url:a.url,enable:a.select}).$promise):o(a.nodes)})}(r.dataJson),a.all(n).then(function(){o.go("admin.project.info")})}})}]});