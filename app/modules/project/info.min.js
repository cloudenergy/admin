"use strict";angular.module("app").controller("projectInfo",["$rootScope","$scope","$api","UI",function(e,o,t,r){o.askingRemoveID=void 0,o.currentPage=1,o.pageSize=15,t.project.info(function(o){angular.forEach(angular.copy(e.Project),function(o,t){delete e.Project[o._id],e.Project.splice(e.Project.length-t-1,1)}),angular.forEach(angular.isArray(o.result)?o.result:[o.result],function(o){e.Project.push(o),e.Project[o._id]=o}),e.Project.selected=e.Project[e.Project.selected._id]||e.Project[0]}),o.DoRemove=function(c,n){t.project.delete({id:c},function(){e.Project.splice(o.pageSize*(o.currentPage-1)+n,1),delete e.Project[c]},function(e){r.AlertError(e.message)})},o.AskForRemove=function(e){o.askingRemoveID=e},o.CancelRemove=function(){delete o.askingRemoveID},o.$watch("currentPage",function(){delete o.askingRemoveID,r.PutPageIndex(void 0,o.currentPage)})}]);