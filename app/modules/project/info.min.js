"use strict";angular.module("app").controller("projectInfo",["$rootScope","$scope","$api","Auth","UI",function(e,t,o,r,c){t.operateStatus={create:{isEnable:!1,url:"/create"},delete:{isEnable:!1,url:"/delete"},edit:{isEnable:!1,url:"/edit"}},t.askingRemoveID=void 0,t.currentPage=1,t.pageSize=15,r.Check(t.operateStatus,function(){o.project.info(function(t){angular.forEach(angular.copy(e.Project),function(t,o){delete e.Project[t._id],e.Project.splice(e.Project.length-o-1,1)}),angular.forEach(angular.isArray(t.result)?t.result:t.result&&[t.result]||[],function(t){e.Project.push(t),e.Project[t._id]=t}),e.Project.selected=e.Project[e.Project.selected._id]||e.Project[0]}),t.DoRemove=function(r,n){o.project.delete({id:r},function(o){e.Project.splice(t.pageSize*(t.currentPage-1)+n,1),delete e.Project[r]},function(e){c.AlertError(e.data.message)})},t.AskForRemove=function(e){t.askingRemoveID=e},t.CancelRemove=function(){delete t.askingRemoveID},t.$watch("currentPage",function(){delete t.askingRemoveID,c.PutPageIndex(void 0,t.currentPage)})})}]);