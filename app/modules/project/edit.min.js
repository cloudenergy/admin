"use strict";angular.module("app").controller("projectEdit",["$rootScope","$scope","$state","$stateParams","$api","UI",function(t,o,e,r,c,n){function u(e){c.project.info({id:e},function(e){o.project=e.result;var c=moment(o.project.onduty,"H:mm");o.ondutyHour.selected=c.format("H"),o.ondutyMinute.selected=c.format("mm");var n=moment(o.project.offduty,"H:mm");o.offdutyHour.selected=n.format("H"),o.offdutyMinute.selected=n.format("mm"),r.id&&(angular.forEach(t.Project,function(o){o._id==r.id&&(t.Project.selected=r.project)}),delete r.id)},n.AlertError)}o.ondutyHour=["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],o.ondutyMinute=["00","10","20","30","40","50"],o.offdutyHour=["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],o.offdutyMinute=["00","10","20","30","40","50"],o.Save=function(t,o){var r={};r[o]=t,console.log(r),c.project.update(r,function(){n.AlertSuccess("修改成功"),e.go("admin.project.info")},n.AlertError)},o.$watch("$root.Project.selected",function(t){!r.id&&u(t._id)}),u(r.id)}]);