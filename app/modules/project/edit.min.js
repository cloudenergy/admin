"use strict";angular.module("app").component("projectEdit",{templateUrl:"app/modules/project/edit.html?rev=714217357c",controller:["$stateParams","$api","SweetAlert",function(t,e,o){var r=this;r.ondutyHour=["00","01","02","03","04","05","06","07","08","09","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],r.ondutyMinute=["00","10","20","30","40","50"],r.offdutyHour=angular.copy(r.ondutyHour),r.offdutyMinute=angular.copy(r.ondutyMinute),r.$onInit=function(){e.project.info({id:t.id},function(t){r.project=t.result;var e=moment(r.project.onduty,"HH:mm");r.project.onduty=e.format("HH:mm"),r.ondutyHour.selected=e.format("HH"),r.ondutyMinute.selected=e.format("mm");var o=moment(r.project.offduty,"HH:mm");r.project.offduty=o.format("HH:mm"),r.offdutyHour.selected=o.format("HH"),r.offdutyMinute.selected=o.format("mm")},o.error)},r.Save=function(u,n){r.project.onduty=String(r.ondutyHour.selected)+":"+String(r.ondutyMinute.selected),r.project.offduty=String(r.offdutyHour.selected)+":"+String(r.offdutyMinute.selected);var d={id:t.id};"time"==n?(d.onduty=r.project.onduty,d.offduty=r.project.offduty):d[n]=u,e.project.update(d,function(){o.success("修改成功"),delete r.project["edit_"+n]},o.error)}}]});