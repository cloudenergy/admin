"use strict";angular.module("app").controller("projectEdit",["$rootScope","$scope","$state","$stateParams","$api","Auth","UI",function(t,e,o,r,u,n,c){e.ondutyHour=["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],e.ondutyMinute=["00","10","20","30","40","50"],e.offdutyHour=["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23"],e.offdutyMinute=["00","10","20","30","40","50"],n.Check(function(){e.Save=function(t){e.project.onduty=e.ondutyHour.selected+":"+e.ondutyMinute.selected,e.project.offduty=e.offdutyHour.selected+":"+e.offdutyMinute.selected,u.project.update(e.project,function(){c.AlertSuccess("修改成功"),o.go("admin.project.info")},function(t){c.AlertError(t.message)})},u.project.info({id:r.id},function(t){if(t.err)c.AlertError(t.data.message);else{e.project=t.result;var o=moment(e.project.onduty,"H:mm");e.ondutyHour.selected=o.format("H"),e.ondutyMinute.selected=o.format("mm");var r=moment(e.project.offduty,"H:mm");e.offdutyHour.selected=r.format("H"),e.offdutyMinute.selected=r.format("mm")}},function(t){c.AlertError(t.message)})})}]);