"use strict";angular.module("app").controller("CollectorIndex",["$rootScope","$scope","$api","UI",function(e,t,o,n){t.currentPage=1,t.askingRemoveID=void 0,t.pageSize=15,t.DoRemove=function(e,r,c){e.preventDefault(),o.collector.delete({id:r},function(){t.items.splice(t.pageSize*(t.currentPage-1)+c,1)},function(e){n.AlertError(e.message)})},t.AskForRemove=function(e,o){e.preventDefault(),t.askingRemoveID=o},t.CancelRemove=function(e){e.preventDefault(),t.askingRemoveID=void 0},t.$watch("$root.Project.selected",function(){o.collector.info({project:e.Project.selected._id},function(e){t.items=e.result})}),t.$watch("currentPage",function(e){return e?void n.PutPageIndex(void 0,t.currentPage):void(t.currentPage=n.GetPageIndex())})}]);