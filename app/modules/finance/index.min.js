"use strict";angular.module("app").controller("Finance",["$api",function(a){var n=this;n.status={CHECKING:"等待审核",CHECKFAILED:"审核失败",PROCESSING:"正在处理",FAILED:"处理失败",SUCCESS:"完成"},n.operation={color:{CHECKING:"text-primary",PROCESSING:"text-warning",CHECKFAILED:"text-danger",FAILED:"text-danger",SUCCESS:"text-success"},text:{CHECKING:"审核",PROCESSING:"状态",CHECKFAILED:"查看",FAILED:"查看",SUCCESS:"查看"}},a.business.accountbalance({project:"PLT"},function(a){n.accountbalance=a.result,n.accountbalance.total=Math.round(100*(n.accountbalance.cash+n.accountbalance.frozen))/100,n.accountbalance.cash=Math.round(100*n.accountbalance.cash)/100,n.accountbalance.frozen=Math.round(100*n.accountbalance.frozen)/100,n.accountbalance.earning=Math.round(100*n.accountbalance.earning)/100,n.accountbalance.withdraw=Math.round(100*n.accountbalance.withdraw)/100}),a.channelaccount.info({all:1,flow:"EXPENSE",pageindex:1,pagesize:6},function(a){n.card=a&&a.result&&a.result.detail||[],angular.forEach(n.card,function(a){a.locate&&angular.isString(a.locate)&&(angular.forEach(JSON.parse(a.locate),function(a,n){this.push(a)},a.locate=[]),a.locate=a.locate.join("-"))})}),a.withdraw.info({project:"PLT",pageindex:1,pagesize:6},function(a){n.withdraw=a&&a.result&&a.result.detail||[],angular.forEach(n.withdraw,function(a){var n=[];a.channelaccount.name&&n.push(a.channelaccount.name),a.channelaccount.origin&&n.push(a.channelaccount.origin),a.channelaccount.account&&n.push("尾号: "+a.channelaccount.account.substr(a.channelaccount.account.length-4)),a.channelaccount=n.join(" | ")||"关联账户不存在"})})}]);