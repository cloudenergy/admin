"use strict";angular.module("app").controller("Finance.record.out.detail",["$rootScope","$api","$state","$stateParams","$uibModal",function(t,e,n,i,o){var c=this;c.status={CHECKING:"等待审核",CHECKFAILED:"审核失败",PROCESSING:"正在处理",FAILED:"处理失败",SUCCESS:"完成"},c.textColor={CHECKING:"text-primary",PROCESSING:"text-warning",CHECKFAILED:"text-danger",FAILED:"text-danger",SUCCESS:"text-success"},c.projectid=i.projectid,c.orderno=i.orderno,c.card="",c.sash=0,c.pwd="",c.projectid&&(n.$current.parent.data.title=t.Project[c.projectid].title),c.getDetail=function(){c.orderno&&e.withdraw.details({id:c.orderno},function(t){c.detail=t.result})},c.getDetail(),c.inject=function(){swal({title:"确认通过此项提现申请吗？",type:"warning",showCancelButton:!0,cancelButtonText:"取消",confirmButtonText:"确认",confirmButtonColor:"#ec6c62"}).then(function(){e.withdraw.checking({id:c.orderno,status:"PASSED",desc:"审核通过"},c.getDetail)})},c.reject=function(t){o.open({templateUrl:"finance-record-detail-modal-reject.html",controllerAs:"self",controller:["$uibModalInstance","SweetAlert",function(t,e){this.title="审核失败",this.submit=function(){this.desc?t.close(this.desc):e.info("请输入描述信息","描述内容不能为空")},this.cancel=function(){t.dismiss("cancel")}}],size:t}).result.then(function(t){t&&e.withdraw.checking({id:c.orderno,status:"REJECT",desc:t},c.getDetail)})},c.done=function(){swal({title:"确认此次转账成功了吗？",type:"warning",showCancelButton:!0,cancelButtonText:"取消",confirmButtonText:"确认",confirmButtonColor:"#ec6c62"}).then(function(){e.withdraw.done({id:c.orderno},c.getDetail)})},c.transferfailed=function(t){o.open({templateUrl:"finance-record-detail-modal-reject.html",controllerAs:"self",controller:["$uibModalInstance","SweetAlert",function(t,e){this.title="转账失败",this.submit=function(){this.desc?t.close(this.desc):e.info("请输入描述信息","描述内容不能为空")},this.cancel=function(){t.dismiss("cancel")}}],size:t}).result.then(function(t){t&&e.withdraw.transferfailed({id:c.orderno,desc:t},c.getDetail)})}}]);