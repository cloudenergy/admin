"use strict";angular.module("app").controller("Finance.record.out.detail",["$api","$state","$stateParams","$uibModal",function(t,e,n,i){var r=this;r.status={CHECKING:"等待审核",CHECKFAILED:"审核失败",PROCESSING:"正在处理",FAILED:"处理失败",SUCCESS:"完成"},r.textColor={CHECKING:"text-primary",PROCESSING:"text-warning",CHECKFAILED:"text-danger",FAILED:"text-danger",SUCCESS:"text-success"},r.projectid=n.projectid,r.orderno=n.orderno,r.card="",r.sash=0,r.pwd="",r.projectid&&(e.$current.parent.data.title=EMAPP.Project[r.projectid].title),r.getDetail=function(){r.orderno&&t.withdraw.details({id:r.orderno},function(t){r.detail=t.result})},r.getDetail(),r.inject=function(){swal({title:"确认通过此项提现申请吗？",type:"warning",showCancelButton:!0,cancelButtonText:"取消",confirmButtonText:"确认",confirmButtonColor:"#ec6c62"},function(){t.withdraw.checking({id:r.orderno,status:"PASSED",desc:"审核通过"},r.getDetail)})},r.reject=function(e){i.open({templateUrl:"finance-record-detail-modal-reject.html",controllerAs:"self",controller:["$uibModalInstance","UI",function(t,e){this.submit=function(){this.desc?t.close(this.desc):e.AlertWarning("描述内容不能为空","请输入描述信息")},this.cancel=function(){t.dismiss("cancel")}}],size:e}).result.then(function(e){e&&t.withdraw.checking({id:r.orderno,status:"REJECT",desc:e},r.getDetail)})}}]);