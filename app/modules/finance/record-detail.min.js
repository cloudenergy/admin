"use strict";angular.module("app").controller("Finance.record.out.detail",["$rootScope","$api","$state","$stateParams","$uibModal",function(t,e,n,o,r){var i=this;i.status={CHECKING:"等待审核",CHECKFAILED:"审核失败",PROCESSING:"正在处理",FAILED:"处理失败",SUCCESS:"完成"},i.textColor={CHECKING:"text-primary",PROCESSING:"text-warning",CHECKFAILED:"text-danger",FAILED:"text-danger",SUCCESS:"text-success"},i.projectid=o.projectid,i.orderno=o.orderno,i.card="",i.sash=0,i.pwd="",i.projectid&&(n.$current.parent.data.title=t.Project[i.projectid].title),i.getDetail=function(){i.orderno&&e.withdraw.details({id:i.orderno},function(t){i.detail=t.result})},i.getDetail(),i.inject=function(){swal({title:"确认通过此项提现申请吗？",type:"warning",showCancelButton:!0,cancelButtonText:"取消",confirmButtonText:"确认",confirmButtonColor:"#ec6c62"},function(){e.withdraw.checking({id:i.orderno,status:"PASSED",desc:"审核通过"},i.getDetail)})},i.reject=function(t){r.open({templateUrl:"finance-record-detail-modal-reject.html",controllerAs:"self",controller:["$uibModalInstance","SweetAlert",function(t,e){this.submit=function(){this.desc?t.close(this.desc):e.warning("请输入描述信息","描述内容不能为空")},this.cancel=function(){t.dismiss("cancel")}}],size:t}).result.then(function(t){t&&e.withdraw.checking({id:i.orderno,status:"REJECT",desc:t},i.getDetail)})}}]);