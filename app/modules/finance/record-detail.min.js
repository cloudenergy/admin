"use strict";angular.module("app").controller("Finance.record.out.detail",["$rootScope","$api","$state","$stateParams","$uibModal",function(t,e,n,o,i){var r=this;r.status={CHECKING:"等待审核",CHECKFAILED:"审核失败",PROCESSING:"正在处理",FAILED:"处理失败",SUCCESS:"完成"},r.textColor={CHECKING:"text-primary",PROCESSING:"text-warning",CHECKFAILED:"text-danger",FAILED:"text-danger",SUCCESS:"text-success"},r.projectid=o.projectid,r.orderno=o.orderno,r.card="",r.sash=0,r.pwd="",r.projectid&&(n.$current.parent.data.title=t.Project[r.projectid].title),r.getDetail=function(){r.orderno&&e.withdraw.details({id:r.orderno},function(t){r.detail=t.result})},r.getDetail(),r.inject=function(){swal({title:"确认通过此项提现申请吗？",type:"warning",showCancelButton:!0,cancelButtonText:"取消",confirmButtonText:"确认",confirmButtonColor:"#ec6c62"},function(){e.withdraw.checking({id:r.orderno,status:"PASSED",desc:"审核通过"},r.getDetail)})},r.reject=function(t){i.open({templateUrl:"finance-record-detail-modal-reject.html",controllerAs:"self",controller:["$uibModalInstance","SweetAlert",function(t,e){this.submit=function(){this.desc?t.close(this.desc):e.info("请输入描述信息","描述内容不能为空")},this.cancel=function(){t.dismiss("cancel")}}],size:t}).result.then(function(t){t&&e.withdraw.checking({id:r.orderno,status:"REJECT",desc:t},r.getDetail)})}}]);