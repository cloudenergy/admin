"use strict";angular.module("app").controller("Finance.project.list",["$filter","$timeout","$api","$q","$state","$stateParams","uiGridConstants",function(e,i,t,n,l,r,a){var s=this;s.paneHeight=90,s.searchText="",s.filter=function(){s.gridOptions.enableFiltering=!s.gridOptions.enableFiltering,s.gridApi.core.notifyDataChange(a.dataChange.COLUMN)},s.export=function(){s.gridOptions.exporterCsvFilename="平台财务_项目列表.csv",s.gridApi.exporter.csvExport("visible","visible",angular.element(document.querySelectorAll(".subContent")))},s.list=function(){t.project.info({titlereg:s.searchText||void 0},function(e){s.gridOptions.data=angular.isArray(e.result)?e.result:[e.result],s.gridApi.grid.element.height("auto")})},s.list(),s.gridOptions={onRegisterApi:function(e){s.gridApi=e},enableColumnResizing:!0,exporterOlderExcelCompatibility:!0,exporterFieldCallback:function(e,i,t,n){return 0===n?0:'="'+(n||"")+'"'},columnDefs:[{displayName:"",name:"$index",type:"number",width:50,minWidth:50,enableColumnMenu:!1,exporterSuppressExport:!0,headerCellClass:"text-center",headerCellTemplate:'<div class="ui-grid-cell-contents">序号</div>',cellClass:"text-center",cellTemplate:'<div class="ui-grid-cell-contents" ng-bind="grid.renderContainers.body.visibleRowCache.indexOf(row)+1"></div>'},{displayName:"项目名称",name:"title",width:"*",minWidth:120,enableColumnMenu:!1,cellTemplate:'<div class="ui-grid-cell-contents text-primary"><a ui-sref="admin.finance.project.info({projectid:row.entity._id})" ng-bind="COL_FIELD"></a></div>'},{displayName:"项目余额 ¥",name:"billingAccount.cash",width:"*",minWidth:120,enableColumnMenu:!1},{displayName:"",name:"view",width:"*",minWidth:100,enableColumnMenu:!1,exporterSuppressExport:!0,headerCellClass:"text-center",headerCellTemplate:'<div class="ui-grid-cell-contents">查看记录</div>',cellClass:"text-center",cellTemplate:'<div class="ui-grid-cell-contents text-primary"><a ui-sref="admin.finance.project.info.record({tab:\'in\',projectid:row.entity._id})">收入记录</a><a class="ml20" ui-sref="admin.finance.project.info.record({tab:\'out\',projectid:row.entity._id})">提现记录</a></div>'},{displayName:"",name:"operation",width:"*",minWidth:220,enableColumnMenu:!1,exporterSuppressExport:!0,headerCellClass:"text-center",headerCellTemplate:'<div class="ui-grid-cell-contents">操作</div>',cellClass:"text-center",cellTemplate:'<div class="ui-grid-cell-contents text-primary"><a ui-sref="admin.finance.project.info({projectid:row.entity._id})">配置银行账户</a><a class="ml20" ui-sref="admin.finance.project.info.withdraw({projectid:row.entity._id})">转账</a></div>'}]}}]);