"use strict";angular.module("app").controller("Finance.project.list",["$filter","$api","uiGridConstants",function(e,i,t){var n=this;n.paneHeight=90,n.searchText="",n.filter=function(){n.gridOptions.enableFiltering=!n.gridOptions.enableFiltering,n.gridApi.core.notifyDataChange(t.dataChange.COLUMN)},n.export=function(){n.gridOptions.exporterCsvFilename="平台财务_项目列表.csv",n.gridApi.exporter.csvExport("visible","visible",angular.element(document.querySelectorAll(".subContent")))},n.list=function(){i.project.info({titlereg:n.searchText||void 0},function(e){n.gridOptions.data=angular.isArray(e.result)?e.result:[e.result],n.gridApi.grid.element.height("auto")})},n.list(),n.gridOptions={onRegisterApi:function(e){n.gridApi=e},enableColumnResizing:!0,exporterOlderExcelCompatibility:!0,exporterFieldCallback:function(e,i,t,n){return 0===n?0:'="'+(n||"")+'"'},columnDefs:[{displayName:"",name:"$index",type:"number",width:50,minWidth:50,enableColumnMenu:!1,exporterSuppressExport:!0,headerCellClass:"text-center",headerCellTemplate:'<div class="ui-grid-cell-contents">序号</div>',cellClass:"text-center",cellTemplate:'<div class="ui-grid-cell-contents" ng-bind="grid.renderContainers.body.visibleRowCache.indexOf(row)+1"></div>'},{displayName:"项目名称",name:"title",width:"*",minWidth:120,enableColumnMenu:!1,cellTemplate:'<div class="ui-grid-cell-contents text-primary"><a ui-sref="boss.finance.project.info({projectid:row.entity._id})" ng-bind="COL_FIELD"></a></div>'},{displayName:"项目余额 ¥",name:"billingAccount.cash",width:"*",minWidth:120,enableColumnMenu:!1},{displayName:"",name:"view",width:"*",minWidth:100,enableColumnMenu:!1,exporterSuppressExport:!0,headerCellClass:"text-center",headerCellTemplate:'<div class="ui-grid-cell-contents">查看记录</div>',cellClass:"text-center",cellTemplate:'<div class="ui-grid-cell-contents text-primary"><a ui-sref="boss.finance.project.info.record({tab:\'in\',projectid:row.entity._id})">收入记录</a><a class="ml20" ui-sref="boss.finance.project.info.record({tab:\'out\',projectid:row.entity._id})">提现记录</a></div>'},{displayName:"",name:"operation",width:"*",minWidth:220,enableColumnMenu:!1,exporterSuppressExport:!0,headerCellClass:"text-center",headerCellTemplate:'<div class="ui-grid-cell-contents">操作</div>',cellClass:"text-center",cellTemplate:'<div class="ui-grid-cell-contents text-primary"><a ui-sref="boss.finance.project.info({projectid:row.entity._id})">配置银行账户</a><a class="ml20" ui-sref="boss.finance.project.info.withdraw({projectid:row.entity._id})">转账</a></div>'}]}}]);