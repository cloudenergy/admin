angular.module("app").directive("datetimepicker",["$timeout","$ocLazyLoad",function($timeout,$ocLazyLoad){var pluginLoad=$ocLazyLoad.load([{insertBefore:"#load_styles_before",files:["https://static.cloudenergy.me/libs/eonasdan-bootstrap-datetimepicker-4.17.37/build/css/bootstrap-datetimepicker.min.css"]},{files:["https://static.cloudenergy.me/libs/eonasdan-bootstrap-datetimepicker-4.17.37/build/js/bootstrap-datetimepicker.min.js"]}]);return{restrict:"A",require:"?ngModel",link:function(scope,element,attrs,ctrl){pluginLoad.then(function(){var opt={maxDateTo:void 0,minDateTo:void 0,maxRangeTo:void 0,minRangeTo:void 0,rangeDay:void 0},options={locale:"zh-CN",format:"YYYY-MM-DD",maxDate:new Date,widgetPositioning:{horizontal:"right"}};angular.forEach(element.data(),function(val,key){/^\$/.test(key)||(/^\{.*\}$/.test(val)||/^\[.*\]$/.test(val)?eval("this[key]="+val):this[key]=val)},options),scope.$watch(attrs.datetimepicker,function(t){attrs.datetimepicker&&!angular.isDefined(t)||(angular.isObject(t)&&angular.extend(options,t),angular.forEach(opt,function(t,e){opt[e]=options[e],delete options[e]}),element.datetimepicker(options),!options.inline&&$timeout(function(){var t=element.data("DateTimePicker"),e=function(e){opt.changed||(opt.maxDateTo=opt.maxDateTo&&$(opt.maxDateTo).data("DateTimePicker"),opt.minDateTo=opt.minDateTo&&$(opt.minDateTo).data("DateTimePicker"),opt.maxRangeTo=opt.maxRangeTo&&$(opt.maxRangeTo).data("DateTimePicker"),opt.minRangeTo=opt.minRangeTo&&$(opt.minRangeTo).data("DateTimePicker"),opt.changed=!0),opt.maxDateTo&&(opt.maxDateTo.minDate(e),opt.maxDateTo.date()&&t.maxDate(opt.maxDateTo.date())),opt.minDateTo&&(opt.minDateTo.maxDate(e),opt.minDateTo.date()&&t.minDate(opt.minDateTo.date())),opt.maxRangeTo&&opt.rangeDay&&opt.maxRangeTo.date(moment(Math.max(t.date(),Math.min(moment(e).add(opt.rangeDay,"days"),opt.maxRangeTo.date(),moment())))),opt.minRangeTo&&opt.rangeDay&&opt.minRangeTo.date(moment(Math.min(t.date(),Math.max(moment(e).subtract(opt.rangeDay,"days"),opt.minRangeTo.date()))))};element.off("dp.change").on("dp.change",function(t){ctrl&&ctrl.$setViewValue(t.target.value),e(t.date)}).off("dp.show").on("dp.show",function(a){(element.is("input")?element.parent():element).addClass("focus"),e(t.date())}).off("dp.hide").on("dp.hide",function(){(element.is("input")?element.parent():element).removeClass("focus")})}))})})}}}]);
//# sourceMappingURL=datetimepicker.min.js.map
